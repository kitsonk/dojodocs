

<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojo/parser &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="The Dojo Toolkit - Reference Guide" href="../index.html" />
    <link rel="up" title="Dojo" href="contents.html" />
    <link rel="next" title="dojo.partial" href="partial.html" />
    <link rel="prev" title="dojo/on" href="on.html" />

    <link rel="stylesheet" href="../_static/css/site.css">
    <link rel="stylesheet" href="../_static/js/docs/resources/guide.css">
	<script type="text/javascript">
		dojoConfig = {
			async: true
		};
	</script>
    <script type="text/javascript" src="../_static/js/dojo/dojo.js"></script>
    <script type="text/javascript" src="../_static/js/docs/guide.js"></script>

  </head>
  <body>  

    <div class="document">
    <div id="accessibilityNode">
        <a href="#intro">Skip to Content</a> | <a href="#nav">Skip to Navigation</a>
    </div>
    <hr class="hide">
    <div id="page" class="docPage">
        <div id="header">
            <div class="container">
                <span id="logo"><a title="Home" href="http://dojotoolkit.org">
                    <img alt="Dojo Toolkit" src="../_static/images/logo.png"></a>
                </span>
                <ul id="navigation">
                    <li class="home"><a href="/"><span class="homeIcon"></span></a></li>
                    <li class="download"><a href="/download/">Download</a></li>
                    <li class="features"><a href="/features/">Features</a></li>
                    <li class="docs active"><a href="/documentation/">Documentation</a></li>
                    <li class="community"><a href="/community/">Community</a></li>
                    <li class="about"><a href="/blog/">Blog</a></li>
                </ul>
            </div>
        </div>
    
        <hr class="hide" />
    
        <div id="main">
            <div id="content" class="innerBox">
                <div class="pageTitleContainer">
                    <h1>Documentation</h1>
                    <ul class="subnav">
                        <li><a href="/documentation/"><span>Tutorials</span></a></li>
                        <li class="active"><a href="/reference-guide/"><span>Reference Guide</span></a></li>
                        <li><a href="/api/"><span>API Documentation</span></a></li>
                    </ul>
                </div>
                <div class="line">
                    <div class="unit size3of4 firstUnit">
                        <div class="spacer">
                            
  <div class="section" id="dojo-parser">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojo/parser</a><a class="headerlink" href="#dojo-parser" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojo-parser" id="id2">dojo/parser</a><ul>
<li><a class="reference internal" href="#getting-started" id="id3">Getting Started</a><ul>
<li><a class="reference internal" href="#loading-the-parser" id="id4">Loading the Parser</a></li>
<li><a class="reference internal" href="#running-the-parser" id="id5">Running the Parser</a></li>
<li><a class="reference internal" href="#return-results" id="id6">Return Results</a></li>
</ul>
</li>
<li><a class="reference internal" href="#markup" id="id7">Markup</a><ul>
<li><a class="reference internal" href="#object-types" id="id8">Object Types</a></li>
<li><a class="reference internal" href="#declarative-require" id="id9">Declarative Require</a></li>
<li><a class="reference internal" href="#parser-parameters" id="id10">Parser Parameters</a></li>
<li><a class="reference internal" href="#script-tags" id="id11">Script Tags</a></li>
</ul>
</li>
<li><a class="reference internal" href="#writing-widgets" id="id12">Writing widgets</a><ul>
<li><a class="reference internal" href="#specifying-attributes-and-types" id="id13">Specifying attributes and types</a></li>
<li><a class="reference internal" href="#markupfactory" id="id14">markupFactory()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#parser-api-notes" id="id15">Parser API Notes</a><ul>
<li><a class="reference internal" href="#parse" id="id16">parse()</a></li>
<li><a class="reference internal" href="#instantiate" id="id17">instantiate()</a></li>
<li><a class="reference internal" href="#construct" id="id18">construct()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#caveats" id="id19">Caveats</a></li>
<li><a class="reference internal" href="#examples" id="id20">Examples</a></li>
<li><a class="reference internal" href="#see-also" id="id21">See also</a></li>
</ul>
</li>
</ul>
</div>
<p>The Dojo Parser is an optional module which is used to convert specially decorated nodes in the DOM and convert them
into <a class="reference internal" href="../dijit/index.html#dijit-index"><em>Dijits</em></a>, Widgets or other Objects. By <cite>decorated</cite> we mean use of a <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt>
attribute. Any &#8220;Class&#8221; (or object, such as the ones created by <a class="reference internal" href="declare.html#dojo-declare"><em>dojo.declare</em></a>) can be instantiated
by using a <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt> attribute on some node in the DOM, and create a widget out of it.</p>
<p>This is not limited to Dijit, or <a class="reference internal" href="_base/declare.html#dojo-base-declare"><em>dojo/_base/declare</em></a> and can instantiate any available Dojo
Class or Module.</p>
<p>Inside your HTML you mark nodes for the parser by setting the <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt> attribute, to specify the class of the
widget, and other attributes, to specify parameters to the widget.   For example:</p>
<div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/TextBox&quot;</span> <span class="na">name=</span><span class="s">&quot;nm&quot;</span> <span class="na">value=</span><span class="s">&quot;hello world&quot;</span><span class="nt">&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;input data-dojo-type=&quot;dijit/form/TextBox&quot; name=&quot;nm&quot; value=&quot;hello world&quot;&gt;</textarea></div><p>The parser can scan the entire DOM for <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt> attributes, and create new instances from nodes like this.</p>
<p>The parser also allows function parameters and connections to be done via <tt class="docutils literal"><span class="pre">&lt;script&gt;</span></tt> tags, for example:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/connect&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;functionToConnectTo&quot;</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I will execute in addition to functionToConnectTo().&quot;</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=...&gt;
  &lt;script type=&quot;dojo/connect&quot; data-dojo-event=&quot;functionToConnectTo&quot;&gt;
    console.log(&quot;I will execute in addition to functionToConnectTo().&quot;);
  &lt;/script&gt;
&lt;/div&gt;</textarea></div><p>This form of markup is referred to as the &#8220;declarative&#8221; form of Dojo versus the &#8220;programmatic&#8221; form. While many
developers find the declarative syntax a very easy way to prototype and start quickly with Dojo, declarative syntax does
have some distinct disadvantages that should be considered when using it in a production application:</p>
<ul class="simple">
<li>With non-widget objects (e.g. data stores), the only way to utilise them declaratively is to scope them in the global
namespace (using <tt class="docutils literal"><span class="pre">data-dojo-id</span></tt>). This means when some content is unloaded and the corresponded DOM is destroyed,
including any widgets referencing it, garbage collection does not kick in, because there is still a reference to the
object in the global scope. This can inadvertently increase the memory footprint of your application.</li>
<li>Declarative scripting is created using the <tt class="docutils literal"><span class="pre">new</span> <span class="pre">Function()</span></tt> method under the covers. Depending upon the browser and
JavaScript engine, there are significant limitations to the engines ability to optimise the code and collapse the
scope stack of the function. This can inadvertently decrease the performance and increase the memory footprint of your
application.</li>
<li>Because of the need to scan the DOM, parse nodes, validate that modules are loaded, etc., the parser will always be
slower than using a programmatic syntax. Especially with non-modern browsers like IE6, IE7 and IE8, they can be rather
dramatic performance hits. While in many cases these may not be perceptible to the end user of an application, other
performance factors can easily build up into what is perceived as a &#8220;slow&#8221; application and proper consideration should
be given.</li>
</ul>
<div class="section" id="getting-started">
<h2><a class="toc-backref" href="#id3">Getting Started</a><a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="loading-the-parser">
<h3><a class="toc-backref" href="#id4">Loading the Parser</a><a class="headerlink" href="#loading-the-parser" title="Permalink to this headline">¶</a></h3>
<p>To include the Dojo parser on your page, require the module <tt class="docutils literal"><span class="pre">dojo.parser</span></tt>:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">){</span>
  <span class="c1">// write your code here</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;], function(parser){
  // write your code here
});</textarea></div><p><strong>Note:</strong> While many examples historically don&#8217;t expressly require the <tt class="docutils literal"><span class="pre">dojo/parser</span></tt> because it was required by
<a class="reference internal" href="../dijit/_Templated.html#dijit-templated"><em>dijit.Templated</em></a> and <a class="reference internal" href="../dijit/_TemplatedMixin.html#dijit-templatedmixin"><em>dijit/_TemplatedMixin</em></a>, it is always best to
be explicit about requiring the parser.</p>
</div>
<div class="section" id="running-the-parser">
<h3><a class="toc-backref" href="#id5">Running the Parser</a><a class="headerlink" href="#running-the-parser" title="Permalink to this headline">¶</a></h3>
<p>There are two ways to run the <tt class="docutils literal"><span class="pre">dojo/parser</span></tt>: manually, or during <tt class="docutils literal"><span class="pre">onLoad</span></tt>.</p>
<p>To execute the parser manually, simply call the function <tt class="docutils literal"><span class="pre">parse()</span></tt>:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">){</span>
  <span class="nx">parser</span><span class="p">.</span><span class="nx">parse</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;], function(parser){
  parser.parse();
});</textarea></div><p>In many situations this can be an over simplification of what you need to have in place for the parser to work
correctly. For example, you often need several other things in place before you can actually effectively parse the
content of a page. You obviously need the DOM to be ready, plus you also need to ensure that <tt class="docutils literal"><span class="pre">dojo/hccss</span></tt> has run if
you want to ensure accessibility works as designed. A more realistic version would be something like:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/ready&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="nx">ready</span><span class="p">){</span>
  <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">parser</span><span class="p">.</span><span class="nx">parse</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dojo/ready&quot;], function(parser, ready){
  ready(function(){
    parser.parse();
  });
});</textarea></div><p>To run the parser when your page loads, add a <tt class="docutils literal"><span class="pre">data-dojo-config=&quot;parseOnLoad:</span> <span class="pre">true&quot;</span></tt> to your dojo script tag:</p>
<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;dojo/dojo.js&quot;</span>
    <span class="na">data-dojo-config=</span><span class="s">&quot;parseOnLoad: true&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;script type=&quot;text/javascript&quot; src=&quot;dojo/dojo.js&quot;
    data-dojo-config=&quot;parseOnLoad: true&quot;&gt;&lt;/script&gt;</textarea></div><p><strong>Note:</strong> again, don&#8217;t forget to explicitly require <tt class="docutils literal"><span class="pre">dojo/parser</span></tt> in this case!
See <a class="reference internal" href="../releasenotes/1.7.html#releasenotes-1-7-parser"><em>the 1.7 release notes</em></a> for more details.</p>
</div>
<div class="section" id="return-results">
<h3><a class="toc-backref" href="#id6">Return Results</a><a class="headerlink" href="#return-results" title="Permalink to this headline">¶</a></h3>
<p>Because certain features introduced in Dojo 1.8 can cause the parser to run in an asynchronous fashion, but in Dojo 1.X
there is a need to maintain backwards compatibility, <tt class="docutils literal"><span class="pre">dojo/parser::parse()</span></tt> returns a combined object that is an array
combined with a promise. When running in synch mode, the array part of the object will contain the instantiated objects.
When running in async mode, the promise part of the object will resolve with an array of instantiated objects when the
parse is finished.</p>
<p>For new development, it is best interact with <tt class="docutils literal"><span class="pre">parse()</span></tt> as if it was only a promise. For example, to do something with
the instantiated objects, you would want to do something like:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/array&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="nx">array</span><span class="p">){</span>
  <span class="nx">parser</span><span class="p">.</span><span class="nx">parse</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">instances</span><span class="p">){</span>
    <span class="nx">array</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">instances</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">instance</span><span class="p">){</span>
      <span class="c1">// do something with instances</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dojo/_base/array&quot;], function(parser, array){
  parser.parse().then(function(instances){
    array.forEach(instances, function(instance){
      // do something with instances
    });
  });
});</textarea></div></div>
</div>
<div class="section" id="markup">
<h2><a class="toc-backref" href="#id7">Markup</a><a class="headerlink" href="#markup" title="Permalink to this headline">¶</a></h2>
<p>This section discusses how to write markup (HTML) on your page to be interpreted by the parser.</p>
<div class="section" id="object-types">
<h3><a class="toc-backref" href="#id8">Object Types</a><a class="headerlink" href="#object-types" title="Permalink to this headline">¶</a></h3>
<p>The attribute <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt> is used to specify the type of the object to be instantiated. As of Dojo 1.8, the
parser accepts a Module ID (MID) for the type. Previously it accepted the declared class name of the object. It also
accepts anything that is declared in the global scope. Therefore all the following are valid:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/TextBox&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="nx">TextBox</span><span class="p">){</span>
  <span class="c1">// Globally scope TextBox</span>
  <span class="nx">MyTextBox</span> <span class="o">=</span> <span class="nx">TextBox</span><span class="p">;</span>

  <span class="nx">parser</span><span class="p">.</span><span class="nx">parse</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dijit/form/TextBox&quot;], function(parser, TextBox){
  // Globally scope TextBox
  MyTextBox = TextBox;

  parser.parse();
});</textarea></div><div class="highlight"><pre><span class="c">&lt;!-- Dojo 1.8+ Only --&gt;</span>
<span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/TextBox&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;dept1&quot;</span> <span class="nt">/&gt;</span>

<span class="c">&lt;!-- Prior Versions of Dojo --&gt;</span>
<span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit.form.TextBox&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;dept2&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;MyTextBox&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;dept3&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;!-- Dojo 1.8+ Only --&gt;
&lt;input data-dojo-type=&quot;dijit/form/TextBox&quot; type=&quot;text&quot; name=&quot;dept1&quot; /&gt;

&lt;!-- Prior Versions of Dojo --&gt;
&lt;input data-dojo-type=&quot;dijit.form.TextBox&quot; type=&quot;text&quot; name=&quot;dept2&quot; /&gt;
&lt;input data-dojo-type=&quot;MyTextBox&quot; type=&quot;text&quot; name=&quot;dept3&quot; /&gt;</textarea></div><p>For new development in Dojo 1.8 or later, the MID is the preferred way of referring to a class for instantiation.</p>
<p>When using widgets, you should use the closest native HTML tag that represents the widget. This allows the page to
degrade if something goes wrong, it ensures better a11y, it will layout better while your page is being parsed and it
ensure that native attributes are appropriate for the type of widget you are instantiating.  If you are unsure, the fallback scenario would be a <tt class="docutils literal"><span class="pre">&lt;div&gt;</span></tt>.  Some examples would be:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Dijit Type</th>
<th class="head">HTML Element</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>dijit/form/Button</td>
<td><tt class="docutils literal"><span class="pre">&lt;button</span> <span class="pre">type=&quot;button&quot;&gt;</span></tt></td>
</tr>
<tr class="row-odd"><td>dijit/form/TextBox</td>
<td><tt class="docutils literal"><span class="pre">&lt;input</span> <span class="pre">type=&quot;text&quot;</span> <span class="pre">/&gt;</span></tt></td>
</tr>
<tr class="row-even"><td>dijit/form/Select</td>
<td><tt class="docutils literal"><span class="pre">&lt;select&gt;</span></tt></td>
</tr>
<tr class="row-odd"><td>dijit/form/Form</td>
<td><tt class="docutils literal"><span class="pre">&lt;form&gt;</span></tt></td>
</tr>
<tr class="row-even"><td>dijit/layout/ContentPane</td>
<td><tt class="docutils literal"><span class="pre">&lt;div&gt;</span></tt></td>
</tr>
</tbody>
</table>
<div class="section" id="data-dojo-mixins">
<h4>data-dojo-mixins<a class="headerlink" href="#data-dojo-mixins" title="Permalink to this headline">¶</a></h4>
<p>There is another optional parameter introduced in Dojo 1.8 called <tt class="docutils literal"><span class="pre">data-dojo-mixins</span></tt>, which allows dynamic extension
of a class specified in <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt>. Additional classes are specified as a comma separated list. For example, the
following:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dojox/treemap/TreeMap&quot;</span> <span class="na">data-dojo-mixins=</span><span class="s">&quot;dojox/treemap/Keyboard, dojox/treemap/DrillDownUp&quot;</span>
  <span class="na">data-dojo-props=</span><span class="s">&quot;store: myStore&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=&quot;dojox/treemap/TreeMap&quot; data-dojo-mixins=&quot;dojox/treemap/Keyboard, dojox/treemap/DrillDownUp&quot;
  data-dojo-props=&quot;store: myStore&quot;&gt;&lt;/div&gt;</textarea></div><p>is equivalent to using the following class construction for the <tt class="docutils literal"><span class="pre">div</span></tt>:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/declare&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/TreeMap&quot;</span><span class="p">,</span> <span class="s2">&quot;dojox/treemap/Keyboard&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dojox/treemap/DrillDownUp&quot;</span><span class="p">],</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="nx">declare</span><span class="p">,</span> <span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">Keyboard</span><span class="p">,</span> <span class="nx">DrillDownUp</span><span class="p">){</span>
    <span class="k">new</span> <span class="nx">declare</span><span class="p">([</span><span class="nx">TreeMap</span><span class="p">,</span> <span class="nx">Keyboard</span><span class="p">,</span> <span class="nx">DrillDownUp</span><span class="p">])({</span> <span class="nx">store</span><span class="o">:</span> <span class="nx">myStore</span> <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dojo/_base/declare&quot;, &quot;dojox/treemap/TreeMap&quot;, &quot;dojox/treemap/Keyboard&quot;,
    &quot;dojox/treemap/DrillDownUp&quot;],
  function(parser, declare, TreeMap, Keyboard, DrillDownUp){
    new declare([TreeMap, Keyboard, DrillDownUp])({ store: myStore });
});</textarea></div><p>If the <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt> is not a class based on <a class="reference internal" href="_base/declare.html#dojo-base-declare"><em>dojo/_base/declare</em></a>, the parser will look
for an <tt class="docutils literal"><span class="pre">extend()</span></tt> method on the <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt> class object and call it with the list of mixins as parameters in
order to build the composed object. This makes this mechanism compatible with ComposeJS.</p>
</div>
<div class="section" id="auto-require">
<span id="dojo-parser-auto-require"></span><h4>Auto Require<a class="headerlink" href="#auto-require" title="Permalink to this headline">¶</a></h4>
<p>As of Dojo 1.8, the parser supports auto require. If as the document is being parsed any of the constructors are missing
in either <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt> or <tt class="docutils literal"><span class="pre">data-dojo-mixins</span></tt> and that class name looks like a MID (e.g. contains a slash),
the parser will attempt to require in those modules after it has finished scanning the DOM. This means that you do not
explicitly have to require in classes in your declarative markup before the parser is invoked. The following example
demonstrates that feature:</p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><p>Notice how there is no <tt class="docutils literal"><span class="pre">require()</span></tt> in this example (or JavaScript code for that matter).</p>
<div class="highlight"><pre><span class="nt">&lt;form</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Form&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;table&gt;</span>
    <span class="nt">&lt;tbody&gt;</span>
      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;label</span> <span class="na">for=</span><span class="s">&quot;field1&quot;</span><span class="nt">&gt;</span>Name<span class="nt">&lt;/label&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;field1&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/TextBox&quot;</span> <span class="nt">/&gt;&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;label</span> <span class="na">for=</span><span class="s">&quot;field2&quot;</span><span class="nt">&gt;</span>Password<span class="nt">&lt;/label&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;password&quot;</span> <span class="na">name=</span><span class="s">&quot;field2&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/TextBox&quot;</span> <span class="nt">/&gt;&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/tbody&gt;</span>
  <span class="nt">&lt;/table&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span><span class="nt">&gt;</span>Login<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;form data-dojo-type=&quot;dijit/form/Form&quot;&gt;
  &lt;table&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;label for=&quot;field1&quot;&gt;Name&lt;/label&gt;&lt;/td&gt;
        &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;field1&quot; data-dojo-type=&quot;dijit/form/TextBox&quot; /&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;label for=&quot;field2&quot;&gt;Password&lt;/label&gt;&lt;/td&gt;
        &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;field2&quot; data-dojo-type=&quot;dijit/form/TextBox&quot; /&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;button type=&quot;submit&quot; data-dojo-type=&quot;dijit/form/Button&quot;&gt;Login&lt;/button&gt;
&lt;/form&gt;</textarea></div></div></div><p>While this feature does provide a fair amount of flexibility, developers should be consciously aware when they are not
being explicit about their requirements, as this can have unintended consequences. For example, because the code will
&#8220;just work&#8221;, it does mean that if a build profile is not configured properly, you find yourself in a situation where
your code it requiring in modules that are not part of a layer and reducing the performance of your deployed
application or your deployed code will not work because it is missing modules that were being auto-required in your
development environment.</p>
<p>To assist in ensuring that this feature is not used accidently, when <tt class="docutils literal"><span class="pre">isDebug</span></tt> is set to <tt class="docutils literal"><span class="pre">true</span></tt> in your
<tt class="docutils literal"><span class="pre">dojoConfig</span></tt>, the <tt class="docutils literal"><span class="pre">dojo/parser</span></tt> will log warning messages to the console, identifying which modules are being auto-
required.</p>
<p>Developers should give due consideration when they choose to use declarative syntax and not be explicit about their
requirements before invoking <tt class="docutils literal"><span class="pre">.parse()</span></tt>.</p>
</div>
</div>
<div class="section" id="declarative-require">
<span id="dojo-parser-declarative-require"></span><h3><a class="toc-backref" href="#id9">Declarative Require</a><a class="headerlink" href="#declarative-require" title="Permalink to this headline">¶</a></h3>
<p>As of Dojo 1.8, the parser supports a declarative require syntax, so modules can be required declaratively and mapped to
variables in the global scope, without the need of using the <tt class="docutils literal"><span class="pre">require()</span></tt> function in JavaScript. For example:</p>
<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/require&quot;</span><span class="nt">&gt;</span>
  <span class="nx">on</span><span class="o">:</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span>
  <span class="nx">registry</span><span class="o">:</span> <span class="s2">&quot;dijit/registry&quot;</span><span class="p">,</span>
  <span class="nx">Button</span><span class="o">:</span> <span class="s2">&quot;dijit/form/Button&quot;</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;script type=&quot;dojo/require&quot;&gt;
  on: &quot;dojo/on&quot;,
  registry: &quot;dijit/registry&quot;,
  Button: &quot;dijit/form/Button&quot;
&lt;/script&gt;</textarea></div><p>This would load and map <tt class="docutils literal"><span class="pre">dojo/on</span></tt> to <tt class="docutils literal"><span class="pre">on</span></tt>, <tt class="docutils literal"><span class="pre">dijit/registry</span></tt> to <tt class="docutils literal"><span class="pre">registry</span></tt> and <tt class="docutils literal"><span class="pre">dijit/form/Button</span></tt> to
<tt class="docutils literal"><span class="pre">Button</span></tt> so the following would be possible, which would dynamically add an event handler to another Dijit Button when
the other one is clicked:</p>
<div class="highlight"><pre><span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">id=</span><span class="s">&quot;button1&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;Button&quot;</span><span class="nt">&gt;&lt;/button&gt;</span>
<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">id=</span><span class="s">&quot;button2&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;Button&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;span&gt;</span>Click Me!<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/on&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;click&quot;</span><span class="nt">&gt;</span>
    <span class="nx">on</span><span class="p">(</span><span class="nx">registry</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;button1&quot;</span><span class="p">),</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I was clicked!&quot;</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/button&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;button type=&quot;button&quot; id=&quot;button1&quot; data-dojo-type=&quot;Button&quot;&gt;&lt;/button&gt;
&lt;button type=&quot;button&quot; id=&quot;button2&quot; data-dojo-type=&quot;Button&quot;&gt;
  &lt;span&gt;Click Me!&lt;/span&gt;
  &lt;script type=&quot;dojo/on&quot; data-dojo-event=&quot;click&quot;&gt;
    on(registry.byId(&quot;button1&quot;), &quot;click&quot;, function(){
      console.log(&quot;I was clicked!&quot;);
    });
  &lt;/script&gt;
&lt;/button&gt;</textarea></div><p>When <tt class="docutils literal"><span class="pre">parse()</span></tt> is invoked, the parser will scan the DOM, look for the declarative require script blocks, require in
any modules and map them to the variables in the global scope and remove the script blocks from the DOM. It will then
continue with parsing the rest of the DOM and start instantiating the objects.</p>
<p>Because the parser uses the key name to set the object in the global scope, so a key name of <tt class="docutils literal"><span class="pre">app.module</span></tt> would deep
create an <tt class="docutils literal"><span class="pre">app</span></tt> object, and then a <tt class="docutils literal"><span class="pre">module</span></tt> property of the <tt class="docutils literal"><span class="pre">app</span></tt> object. You will need to escape the key name by
wrapping it in double quotes(<tt class="docutils literal"><span class="pre">&quot;</span></tt>) like the following:</p>
<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/require&quot;</span><span class="nt">&gt;</span>
  <span class="s2">&quot;app.on&quot;</span><span class="o">:</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span>
  <span class="s2">&quot;app.registry&quot;</span><span class="o">:</span> <span class="s2">&quot;dijit/registry&quot;</span><span class="p">,</span>
  <span class="s2">&quot;app.Button&quot;</span><span class="o">:</span> <span class="s2">&quot;dijit/form/Button&quot;</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;script type=&quot;dojo/require&quot;&gt;
  &quot;app.on&quot;: &quot;dojo/on&quot;,
  &quot;app.registry&quot;: &quot;dijit/registry&quot;,
  &quot;app.Button&quot;: &quot;dijit/form/Button&quot;
&lt;/script&gt;</textarea></div></div>
<div class="section" id="parser-parameters">
<span id="dojo-parser-parser-parameters"></span><h3><a class="toc-backref" href="#id10">Parser Parameters</a><a class="headerlink" href="#parser-parameters" title="Permalink to this headline">¶</a></h3>
<p>Object properties which correspond to native HTML attributes appear directly in the markup. Custom widget parameters are
put into the <tt class="docutils literal"><span class="pre">data-dojo-props</span></tt> field. For example:</p>
<div class="highlight"><pre><span class="c">&lt;!-- Dojo 1.8+ --&gt;</span>
<span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/TextBox&quot;</span> <span class="na">name=</span><span class="s">&quot;dept&quot;</span>
    <span class="na">data-dojo-props=</span><span class="s">&quot;scrollOnFocus: true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;!-- Dojo 1.8+ --&gt;
&lt;input data-dojo-type=&quot;dijit/form/TextBox&quot; name=&quot;dept&quot;
    data-dojo-props=&quot;scrollOnFocus: true&quot;/&gt;</textarea></div><div class="highlight"><pre><span class="c">&lt;!-- Dojo &lt; 1.8 --&gt;</span>
<span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit.form.TextBox&quot;</span> <span class="na">name=</span><span class="s">&quot;dept&quot;</span>
    <span class="na">data-dojo-props=</span><span class="s">&quot;scrollOnFocus: true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;!-- Dojo &lt; 1.8 --&gt;
&lt;input data-dojo-type=&quot;dijit.form.TextBox&quot; name=&quot;dept&quot;
    data-dojo-props=&quot;scrollOnFocus: true&quot;/&gt;</textarea></div><div class="section" id="boolean-parameters">
<h4>Boolean parameters<a class="headerlink" href="#boolean-parameters" title="Permalink to this headline">¶</a></h4>
<p>Due to HTML subtleties, for boolean parameters that have a coressponding HTML attribute that are false, it&#8217;s best not
to specify the attribute at all. For example, to specify an enabled button (where the <tt class="docutils literal"><span class="pre">disabled</span></tt> property is
<tt class="docutils literal"><span class="pre">false</span></tt>), simply do not specify anything for <tt class="docutils literal"><span class="pre">disabled</span></tt>:</p>
<div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span><span class="nt">&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;input data-dojo-type=&quot;dijit/form/Button&quot;&gt;</textarea></div><p>Further, in standard HTML prior to HTML 5 and as opposed to XHTML, the special parameters <tt class="docutils literal"><span class="pre">checked</span></tt> and <tt class="docutils literal"><span class="pre">disabled</span></tt>
and <tt class="docutils literal"><span class="pre">selected</span></tt> should be specified as single keywords without a value:</p>
<div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span> <span class="na">disabled</span><span class="nt">&gt;</span>
<span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/CheckBox&quot;</span> <span class="na">checked</span><span class="nt">&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;input data-dojo-type=&quot;dijit/form/Button&quot; disabled&gt;
&lt;input data-dojo-type=&quot;dijit/form/CheckBox&quot; checked&gt;</textarea></div><p>In XHTML and HTML 5 they should be specified in the official format of repeating the attribute name as the value:</p>
<div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span> <span class="na">disabled=</span><span class="s">&quot;disabled&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/CheckBox&quot;</span> <span class="na">checked=</span><span class="s">&quot;checked&quot;</span><span class="nt">/&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;input data-dojo-type=&quot;dijit/form/Button&quot; disabled=&quot;disabled&quot;/&gt;
&lt;input data-dojo-type=&quot;dijit/form/CheckBox&quot; checked=&quot;checked&quot;/&gt;</textarea></div><p>Although specifying <tt class="docutils literal"><span class="pre">disabled=&quot;true&quot;</span></tt> will disable a widget, note that the following syntax should not be used as it
is unreliable whether it evaluates to true or false:</p>
<div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span> <span class="na">disabled=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;input data-dojo-type=&quot;dijit/form/Button&quot; disabled=&quot;&quot;/&gt;</textarea></div></div>
<div class="section" id="date-parameters">
<h4>Date parameters<a class="headerlink" href="#date-parameters" title="Permalink to this headline">¶</a></h4>
<p>Regardless of the locale of the client or server, dates are specified to the parser in ISO format:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span> <span class="na">when=</span><span class="s">&quot;2009-1-31&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=... when=&quot;2009-1-31&quot;&gt;&lt;/div&gt;</textarea></div><p>Incidentally, this is also how dates are returned to the server when a form is submitted.</p>
<p>To specify a value as today&#8217;s date (or the current time, when specifying a time), use the keyword &#8220;now&#8221;:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span> <span class="na">when=</span><span class="s">&quot;now&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=... when=&quot;now&quot;&gt;&lt;/div&gt;</textarea></div></div>
<div class="section" id="function-parameters">
<h4>Function parameters<a class="headerlink" href="#function-parameters" title="Permalink to this headline">¶</a></h4>
<p>There are two ways to specify a function parameter to a widget, either via an attribute or a script tag (see below). To
specify a function as an attribute you can either specify the name of a function:</p>
<div class="highlight"><pre><span class="nt">&lt;script&gt;</span>
  <span class="kd">function</span> <span class="nx">myOnClick</span><span class="p">(){</span> <span class="p">...</span> <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span> <span class="na">data-dojo-props=</span><span class="s">&quot;onClick: myOnClick&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;script&gt;
  function myOnClick(){ ... }
&lt;/script&gt;
&lt;div data-dojo-type=... data-dojo-props=&quot;onClick: myOnClick&quot;&gt;&lt;/div&gt;</textarea></div><p>Alternately, you can inline the text of a function:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span> <span class="na">data-dojo-props=</span><span class="s">&quot;onClick: function(){ alert(&#39;I was clicked&#39;); }&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=... data-dojo-props=&quot;onClick: function(){ alert('I was clicked'); }&quot;&gt;&lt;/div&gt;</textarea></div></div>
</div>
<div class="section" id="script-tags">
<h3><a class="toc-backref" href="#id11">Script Tags</a><a class="headerlink" href="#script-tags" title="Permalink to this headline">¶</a></h3>
<p>The parser allows the specification of behaviors through custom types in script blocks to extend and enhance the
functionality of declarative widgets. This is commonly referred to as &#8220;declarative scripting&#8221;. This is done by
specifying a script block that is a direct child of a node with decorate with <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt>. There are different
types of script tags supported:</p>
<div class="section" id="changing-the-behavior-of-a-method">
<h4>Changing the Behavior of a Method<a class="headerlink" href="#changing-the-behavior-of-a-method" title="Permalink to this headline">¶</a></h4>
<p>The execute code that changes the behavior of a method, use <tt class="docutils literal"><span class="pre">type=&quot;dojo/aspect&quot;</span></tt>. All three forms of advice supported
by <a class="reference internal" href="aspect.html#dojo-aspect"><em>dojo/aspect</em></a> are usable:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/aspect&quot;</span> <span class="na">data-dojo-advice=</span><span class="s">&quot;after&quot;</span> <span class="na">data-dojo-method=</span><span class="s">&quot;method1&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;e&quot;</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I ran after!&quot;</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/aspect&quot;</span> <span class="na">data-dojo-advice=</span><span class="s">&quot;around&quot;</span> <span class="na">data-dojo-method=</span><span class="s">&quot;method2&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;origFn&quot;</span><span class="nt">&gt;</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">(){</span> <span class="c1">// Have to act as a function factory</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I ran before!&quot;</span><span class="p">);</span>
      <span class="nx">origFn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="c1">// You have to call the original function</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I ran after!&quot;</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/aspect&quot;</span> <span class="na">data-dojo-advice=</span><span class="s">&quot;before&quot;</span> <span class="na">data-dojo-method=</span><span class="s">&quot;method3&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;i&quot;</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I ran before!&quot;</span><span class="p">);</span>
    <span class="nx">i</span><span class="o">++</span><span class="p">;</span> <span class="c1">// Modifying argument</span>
    <span class="k">return</span> <span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="c1">// Returning modified arguments to be used with original function</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=...&gt;
  &lt;script type=&quot;dojo/aspect&quot; data-dojo-advice=&quot;after&quot; data-dojo-method=&quot;method1&quot; data-dojo-args=&quot;e&quot;&gt;
    console.log(&quot;I ran after!&quot;);
  &lt;/script&gt;
  &lt;script type=&quot;dojo/aspect&quot; data-dojo-advice=&quot;around&quot; data-dojo-method=&quot;method2&quot; data-dojo-args=&quot;origFn&quot;&gt;
    return function(){ // Have to act as a function factory
      console.log(&quot;I ran before!&quot;);
      origFn.call(this); // You have to call the original function
      console.log(&quot;I ran after!&quot;);
    };
  &lt;/script&gt;
  &lt;script type=&quot;dojo/aspect&quot; data-dojo-advice=&quot;before&quot; data-dojo-method=&quot;method3&quot; data-dojo-args=&quot;i&quot;&gt;
    console.log(&quot;I ran before!&quot;);
    i++; // Modifying argument
    return [i]; // Returning modified arguments to be used with original function
  &lt;/script&gt;
&lt;/div&gt;</textarea></div><p><strong>Note</strong> If <tt class="docutils literal"><span class="pre">data-dojo-advice</span></tt> is omitted, <tt class="docutils literal"><span class="pre">&quot;after&quot;</span></tt> is assumed.</p>
</div>
<div class="section" id="execute-code-when-an-event-occurs">
<h4>Execute Code when an Event Occurs<a class="headerlink" href="#execute-code-when-an-event-occurs" title="Permalink to this headline">¶</a></h4>
<p>The execute code when an event occurs <tt class="docutils literal"><span class="pre">type=&quot;dojo/on&quot;</span></tt> can be used and it normalises events between DOM and widget
events. It also follows the conventions in <a class="reference internal" href="on.html#dojo-on"><em>dojo/on</em></a>:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/on&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;click&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;e&quot;</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I was clicked!&quot;</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=...&gt;
  &lt;script type=&quot;dojo/on&quot; data-dojo-event=&quot;click&quot; data-dojo-args=&quot;e&quot;&gt;
    console.log(&quot;I was clicked!&quot;);
  &lt;/script&gt;
&lt;/div&gt;</textarea></div></div>
<div class="section" id="execute-code-on-change-of-property">
<h4>Execute Code on Change of Property<a class="headerlink" href="#execute-code-on-change-of-property" title="Permalink to this headline">¶</a></h4>
<p>To execute code when a value changes for a property for objects that support <tt class="docutils literal"><span class="pre">object.watch()</span></tt> (
<a class="reference internal" href="Stateful.html#dojo-stateful"><em>dojo/Stateful</em></a>) the <tt class="docutils literal"><span class="pre">type=&quot;dojo/watch&quot;</span></tt> can be used:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/watch&quot;</span> <span class="na">data-dojo-prop=</span><span class="s">&quot;value&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;prop,oldValue,newValue&quot;</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Property &#39;&quot;</span><span class="o">+</span><span class="nx">prop</span><span class="o">+</span><span class="s2">&quot;&#39; changed from &#39;&quot;</span><span class="o">+</span><span class="nx">oldValue</span><span class="o">+</span><span class="s2">&quot;&#39; to &#39;&quot;</span><span class="o">+</span><span class="nx">newValue</span><span class="o">+</span><span class="s2">&quot;&#39;&quot;</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=...&gt;
  &lt;script type=&quot;dojo/watch&quot; data-dojo-prop=&quot;value&quot; data-dojo-args=&quot;prop,oldValue,newValue&quot;&gt;
    console.log(&quot;Property '&quot;+prop+&quot;' changed from '&quot;+oldValue+&quot;' to '&quot;+newValue+&quot;'&quot;);
  &lt;/script&gt;
&lt;/div&gt;</textarea></div><p>The <tt class="docutils literal"><span class="pre">.watch()</span></tt> function always passes three arguments when it is called, representing the property that change, the
old value and then the new value.</p>
<p><strong>Note</strong> because <tt class="docutils literal"><span class="pre">data-dojo-prop</span></tt> attribute was introduced after the attribute changes of 1.6, there is no backwards
support for just <tt class="docutils literal"><span class="pre">prop</span></tt> as an attribute.</p>
</div>
<div class="section" id="overriding-a-method">
<h4>Overriding a Method<a class="headerlink" href="#overriding-a-method" title="Permalink to this headline">¶</a></h4>
<p>To fully override a method, the following can be used:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/method&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;someMethod&quot;</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I am the override!&quot;</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=...&gt;
  &lt;script type=&quot;dojo/method&quot; data-dojo-event=&quot;someMethod&quot;&gt;
    console.log(&quot;I am the override!&quot;);
  &lt;/script&gt;
&lt;/div&gt;</textarea></div></div>
<div class="section" id="execute-code-on-instantiation">
<h4>Execute Code on Instantiation<a class="headerlink" href="#execute-code-on-instantiation" title="Permalink to this headline">¶</a></h4>
<p>To execute code on instantiation, use the same format but don&#8217;t specify an event flag:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/method&quot;</span><span class="nt">&gt;</span>
       <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I will execute on instantiation&quot;</span><span class="p">);</span>
    <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=...&gt;
    &lt;script type=&quot;dojo/method&quot;&gt;
       console.log(&quot;I will execute on instantiation&quot;);
    &lt;/script&gt;
&lt;/div&gt;</textarea></div></div>
<div class="section" id="connecting-to-a-method">
<h4>Connecting to a Method<a class="headerlink" href="#connecting-to-a-method" title="Permalink to this headline">¶</a></h4>
<p><em>Deprecated</em>, use <tt class="docutils literal"><span class="pre">&quot;dojo/aspect&quot;</span></tt> or <tt class="docutils literal"><span class="pre">&quot;dojo/on&quot;</span></tt> instead.  To connect to a method the following can be used:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/connect&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;onClick&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;e&quot;</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I was clicked!&quot;</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=...&gt;
  &lt;script type=&quot;dojo/connect&quot; data-dojo-event=&quot;onClick&quot; data-dojo-args=&quot;e&quot;&gt;
    console.log(&quot;I was clicked!&quot;);
  &lt;/script&gt;
&lt;/div&gt;</textarea></div></div>
<div class="section" id="declarative-scripting-arguments">
<h4>Declarative Scripting Arguments<a class="headerlink" href="#declarative-scripting-arguments" title="Permalink to this headline">¶</a></h4>
<p>For functions that take (named) parameters, specify them in an <tt class="docutils literal"><span class="pre">data-dojo-args</span></tt> attribute. For example, <tt class="docutils literal"><span class="pre">onChange()</span></tt>
gets a value parameter, so to reference it do:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/aspect&quot;</span> <span class="na">data-dojo-advice=</span><span class="s">&quot;after&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;onChange&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;value&quot;</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;new value is &quot;</span> <span class="o">+</span> <span class="nx">value</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=...&gt;
  &lt;script type=&quot;dojo/aspect&quot; data-dojo-advice=&quot;after&quot; data-dojo-event=&quot;onChange&quot; data-dojo-args=&quot;value&quot;&gt;
    console.log(&quot;new value is &quot; + value);
  &lt;/script&gt;
&lt;/div&gt;</textarea></div><p><tt class="docutils literal"><span class="pre">data-dojo-args</span></tt> is a comma separated list of parameter names. This example overrides <tt class="docutils literal"><span class="pre">TreeStoreModel</span></tt>&#8216;s method
<tt class="docutils literal"><span class="pre">getChildren()</span></tt>:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/tree/TreeStoreModel&quot;</span> <span class="na">store=</span><span class="s">&quot;store&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/method&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;getChildren&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;item, onComplete&quot;</span><span class="nt">&gt;</span>
    <span class="k">return</span> <span class="nx">store</span><span class="p">.</span><span class="nx">fetch</span><span class="p">({</span><span class="nx">query</span><span class="o">:</span> <span class="p">{</span><span class="nx">parent</span><span class="o">:</span> <span class="nx">store</span><span class="p">.</span><span class="nx">getIdentity</span><span class="p">(</span><span class="nx">item</span><span class="p">)},</span> <span class="nx">onComplete</span><span class="o">:</span> <span class="nx">onComplete</span><span class="p">});</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=&quot;dijit/tree/TreeStoreModel&quot; store=&quot;store&quot;&gt;
  &lt;script type=&quot;dojo/method&quot; data-dojo-event=&quot;getChildren&quot; data-dojo-args=&quot;item, onComplete&quot;&gt;
    return store.fetch({query: {parent: store.getIdentity(item)}, onComplete: onComplete});
  &lt;/script&gt;
&lt;/div&gt;</textarea></div></div>
<div class="section" id="changing-the-execution-scope-of-a-declarative-script">
<h4>Changing the Execution Scope of a Declarative Script<a class="headerlink" href="#changing-the-execution-scope-of-a-declarative-script" title="Permalink to this headline">¶</a></h4>
<p>For functions that need to be executed within a defined context, they can be specified with the <tt class="docutils literal"><span class="pre">with</span></tt> attribute.  For
example the following will caused the function to be wrapped with the <tt class="docutils literal"><span class="pre">myVar</span></tt>:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/connect&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;onChange&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;value&quot;</span> <span class="na">with=</span><span class="s">&quot;myVar&quot;</span><span class="nt">&gt;</span>
    <span class="c1">// ...</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=...&gt;
  &lt;script type=&quot;dojo/connect&quot; data-dojo-event=&quot;onChange&quot; data-dojo-args=&quot;value&quot; with=&quot;myVar&quot;&gt;
    // ...
  &lt;/script&gt;
&lt;/div&gt;</textarea></div></div>
<div class="section" id="script-scope">
<h4>Script Scope<a class="headerlink" href="#script-scope" title="Permalink to this headline">¶</a></h4>
<p>Note that <tt class="docutils literal"><span class="pre">this</span></tt> points to the widget object.</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">...</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/connect&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;onChange&quot;</span> <span class="na">data-dojo-args=</span><span class="s">&quot;value&quot;</span><span class="nt">&gt;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;onChange for &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=...&gt;
  &lt;script type=&quot;dojo/connect&quot; data-dojo-event=&quot;onChange&quot; data-dojo-args=&quot;value&quot;&gt;
    console.log(&quot;onChange for &quot; + this.id);
  &lt;/script&gt;
&lt;/div&gt;</textarea></div></div>
</div>
</div>
<div class="section" id="writing-widgets">
<h2><a class="toc-backref" href="#id12">Writing widgets</a><a class="headerlink" href="#writing-widgets" title="Permalink to this headline">¶</a></h2>
<p>This section discusses how to ensure you can write classes that the parser can understand and instantiate successfully.</p>
<div class="section" id="specifying-attributes-and-types">
<h3><a class="toc-backref" href="#id13">Specifying attributes and types</a><a class="headerlink" href="#specifying-attributes-and-types" title="Permalink to this headline">¶</a></h3>
<p>For backwards compatibility reasons, the parser will scan nodes and their attributes and pass them into the object
constructor. Using non-standard HTML attributes is <em>deprecated</em> and will likely be removed in 2.0. Documentation is
provided here for completeness, but any new code development should use <tt class="docutils literal"><span class="pre">data-dojo-props</span></tt> for passing properties to
the objects constructor.</p>
<p>HTML treats all attributes on nodes as strings. However, when the parser instantiates your nodes, it looks at the
prototype of the class you are trying to instantiate (via <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt> attribute) and tries to make a &#8220;best guess&#8221;
at the type of each object attribute. This requires that all attributes you want to be passed in via the parser have a
corresponding attribute in the class you are trying to instantiate, if you are not using <tt class="docutils literal"><span class="pre">data-dojo-props</span></tt>.</p>
<p>Private members (those that begin with an underscore (<tt class="docutils literal"><span class="pre">_</span></tt>) ) are not mapped in from the source node.</p>
<p>For example, given the class:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/_base/declare&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/parser&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">declare</span><span class="p">,</span> <span class="nx">parser</span><span class="p">){</span>
  <span class="nx">MyCustomType</span> <span class="o">=</span> <span class="nx">declare</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;default value&quot;</span><span class="p">,</span>
    <span class="nx">value</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">when</span><span class="o">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span>
    <span class="nx">objectVal</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">anotherObject</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">arrayVal</span><span class="o">:</span> <span class="p">[],</span>
    <span class="nx">typedArray</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">_privateVal</span><span class="o">:</span> <span class="mi">0</span>
  <span class="p">});</span>

  <span class="nx">parser</span><span class="p">.</span><span class="nx">parse</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/_base/declare&quot;, &quot;dojo/parser&quot;], function(declare, parser){
  MyCustomType = declare(null, {
    name: &quot;default value&quot;,
    value: 0,
    when: new Date(),
    objectVal: null,
    anotherObject: null,
    arrayVal: [],
    typedArray: null,
    _privateVal: 0
  });

  parser.parse();
});</textarea></div><p>And HTML node:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-dojo-type=</span><span class="s">&quot;MyCustomType&quot;</span> <span class="na">name=</span><span class="s">&quot;nm&quot;</span> <span class="na">value=</span><span class="s">&quot;5&quot;</span> <span class="na">when=</span><span class="s">&quot;2008-1-1&quot;</span> <span class="na">objectVal=</span><span class="s">&quot;{a: 1, b:&#39;c&#39;}&quot;</span>
     <span class="na">anotherObject=</span><span class="s">&quot;namedObj&quot;</span> <span class="na">arrayVal=</span><span class="s">&quot;a, b, c, 1, 2&quot;</span> <span class="na">typedArray=</span><span class="s">&quot;[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, 1, 2]&quot;</span>
     <span class="na">_privateVal=</span><span class="s">&quot;5&quot;</span> <span class="na">anotherValue=</span><span class="s">&quot;more&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-dojo-type=&quot;MyCustomType&quot; name=&quot;nm&quot; value=&quot;5&quot; when=&quot;2008-1-1&quot; objectVal=&quot;{a: 1, b:'c'}&quot;
     anotherObject=&quot;namedObj&quot; arrayVal=&quot;a, b, c, 1, 2&quot; typedArray=&quot;['a', 'b', 'c', 1, 2]&quot;
     _privateVal=&quot;5&quot; anotherValue=&quot;more&quot;&gt;&lt;/div&gt;</textarea></div><p>The parser would create an object and pass it parameters of:</p>
<div class="highlight"><pre><span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;nm&quot;</span><span class="p">,</span>                                       <span class="c1">// Just a simple string</span>
  <span class="nx">value</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>                                         <span class="c1">// Typed to an integer</span>
  <span class="nx">when</span><span class="o">:</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">date</span><span class="p">.</span><span class="nx">stamp</span><span class="p">.</span><span class="nx">fromISOString</span><span class="p">(</span><span class="s2">&quot;2008-1-1&quot;</span><span class="p">);</span>  <span class="c1">// Typed to a date</span>
  <span class="nx">objectVal</span><span class="o">:</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span><span class="s1">&#39;c&#39;</span><span class="p">},</span>                         <span class="c1">// Typed to an object</span>
  <span class="nx">anotherObject</span><span class="o">:</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">getObject</span><span class="p">(</span><span class="s2">&quot;namedObj&quot;</span><span class="p">),</span>        <span class="c1">// For strings, try getting the object via dojo.getObject</span>
  <span class="nx">arrayVal</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">],</span>              <span class="c1">// When typing to an array, all entries are strings</span>
  <span class="nx">typedArray</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>                 <span class="c1">// To get a &quot;typed&quot; array, treat it like an object instead</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
  name: &quot;nm&quot;,                                       // Just a simple string
  value: 5,                                         // Typed to an integer
  when: dojo.date.stamp.fromISOString(&quot;2008-1-1&quot;);  // Typed to a date
  objectVal: {a: 1, b:'c'},                         // Typed to an object
  anotherObject: dojo.getObject(&quot;namedObj&quot;),        // For strings, try getting the object via dojo.getObject
  arrayVal: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;1&quot;, &quot;2&quot;],              // When typing to an array, all entries are strings
  typedArray: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, 1, 2]                 // To get a &quot;typed&quot; array, treat it like an object instead
}</textarea></div><p>Note that <tt class="docutils literal"><span class="pre">_privateVal</span></tt> is not passed in (since it is private), and <tt class="docutils literal"><span class="pre">anotherValue</span></tt> is not passed in either (since it
does not exist in the prototype of the class).</p>
<p>The parser automatically will call the <tt class="docutils literal"><span class="pre">startup()</span></tt> function of all nodes when it is finished parsing (if the function
exists, e.g. for Dijits)</p>
<p>If you don&#8217;t want to set a default value for an attribute, you can give it an empty value in your prototype.  Empty
values of types are as follows:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">NaN</span></tt> - an integer</li>
<li><tt class="docutils literal"><span class="pre">&quot;&quot;</span></tt> - a string</li>
<li><tt class="docutils literal"><span class="pre">null</span></tt> - an object</li>
<li><tt class="docutils literal"><span class="pre">[]</span></tt> - an array</li>
<li><tt class="docutils literal"><span class="pre">function(){}</span></tt> - a function</li>
<li><tt class="docutils literal"><span class="pre">new</span> <span class="pre">Date(&quot;&quot;)</span></tt> - a date/time</li>
</ul>
</div>
<div class="section" id="markupfactory">
<h3><a class="toc-backref" href="#id14">markupFactory()</a><a class="headerlink" href="#markupfactory" title="Permalink to this headline">¶</a></h3>
<p>As listed above, the parser expects widget constructors to follow a certain format (where the first argument is a hash
of attribute names/values, and the second is the <tt class="docutils literal"><span class="pre">srcNodeRef</span></tt> which is the node that was parsed to instantiate the
object).</p>
<p>If you are retrofitting an existing class to work with the parser, and the constructor does not follow this format,
simply create a markupFactory method (a static method) which takes those two parameters and creates a new instance of
the widget:</p>
<div class="highlight"><pre><span class="nx">markupFactory</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">params</span><span class="p">,</span> <span class="nx">srcNodeRef</span><span class="p">){</span>
  <span class="c1">// ...</span>
  <span class="k">return</span> <span class="nx">newWidget</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">markupFactory: function(params, srcNodeRef){
  // ...
  return newWidget;
}</textarea></div><p>In addition the <tt class="docutils literal"><span class="pre">markupFactory</span></tt> can be used to allow the widget to do something that the parser doesn&#8217;t automatically
support, like the parsing of child nodes of the main node.  The developer can then adjust the initialisation parameters
of the widget and pass those to the constructor.  The parser passes the class constructor as the third argument when it
invokes the <tt class="docutils literal"><span class="pre">markupFactory</span></tt>.  For example:</p>
<div class="highlight"><pre><span class="nx">markupFactory</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">params</span><span class="p">,</span> <span class="nx">srcNodeRef</span><span class="p">,</span> <span class="nx">ctor</span><span class="p">){</span>
  <span class="c1">// ...</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nx">ctor</span><span class="p">(</span><span class="nx">params</span><span class="p">,</span> <span class="nx">srcNodeRef</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">markupFactory: function(params, srcNodeRef, ctor){
  // ...
  return new ctor(params, srcNodeRef);
}</textarea></div><p>This also ensures that subsequent descendant classes that do not override the markupFactory are created properly.</p>
</div>
</div>
<div class="section" id="parser-api-notes">
<h2><a class="toc-backref" href="#id15">Parser API Notes</a><a class="headerlink" href="#parser-api-notes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="parse">
<h3><a class="toc-backref" href="#id16">parse()</a><a class="headerlink" href="#parse" title="Permalink to this headline">¶</a></h3>
<p>Instead of parsing the whole document, you can select a smaller portion of the document by passing the parser the node
that the parsing should start at. This is accomplished by passing the <tt class="docutils literal"><span class="pre">rootNode</span></tt> argument directly in the <tt class="docutils literal"><span class="pre">rootNode</span></tt>
parameter or the <tt class="docutils literal"><span class="pre">args</span></tt> parameter:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="nx">dom</span><span class="p">){</span>
  <span class="nx">parser</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;myDiv&quot;</span><span class="p">));</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dojo/dom&quot;], function(parser, dom){
  parser.parse(dom.byId(&quot;myDiv&quot;));
});</textarea></div><div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="nx">dom</span><span class="p">){</span>
  <span class="nx">parser</span><span class="p">.</span><span class="nx">parse</span><span class="p">({</span>
    <span class="nx">rootNode</span><span class="o">:</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;myDiv&quot;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dojo/dom&quot;], function(parser, dom){
  parser.parse({
    rootNode: dom.byId(&quot;myDiv&quot;);
  });
});</textarea></div><p>You can specify the base Dojo scope by using the <tt class="docutils literal"><span class="pre">scope</span></tt> keyword in the arguments.  This will change the parser to
look for <tt class="docutils literal"><span class="pre">data-[scope]-*</span></tt> instead of the default <tt class="docutils literal"><span class="pre">data-dojo-*</span></tt> in markup attributes.  For example, the following
would be valid:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="nx">dom</span><span class="p">){</span>
  <span class="nx">parser</span><span class="p">.</span><span class="nx">parse</span><span class="p">({</span>
    <span class="nx">scope</span><span class="o">:</span> <span class="s2">&quot;myScope&quot;</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dojo/dom&quot;], function(parser, dom){
  parser.parse({
    scope: &quot;myScope&quot;
  });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">data-myScope-type=</span><span class="s">&quot;dijit/form/Button&quot;</span> <span class="na">data-myScope-id=</span><span class="s">&quot;button1&quot;</span>
    <span class="na">data-myScope-params=</span><span class="s">&quot;onClick: myOnClick&quot;</span><span class="nt">&gt;</span>Button 1<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div data-myScope-type=&quot;dijit/form/Button&quot; data-myScope-id=&quot;button1&quot;
    data-myScope-params=&quot;onClick: myOnClick&quot;&gt;Button 1&lt;/div&gt;</textarea></div></div>
<div class="section" id="instantiate">
<h3><a class="toc-backref" href="#id17">instantiate()</a><a class="headerlink" href="#instantiate" title="Permalink to this headline">¶</a></h3>
<p>You can manually call <tt class="docutils literal"><span class="pre">dojo/parser::instantiate()</span></tt> on any node - and pass in an additional mixin to specify options,
such as <tt class="docutils literal"><span class="pre">data-dojo-type</span></tt>, etc. The values in the mixin would override any values in your node. For example:</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;myDiv&quot;</span> <span class="na">name=</span><span class="s">&quot;ABC&quot;</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div id=&quot;myDiv&quot; name=&quot;ABC&quot; value=&quot;1&quot;&gt;&lt;/div&gt;</textarea></div><p>You can manually call the parser&#8217;s instantiate function (which does the &#8220;Magical Typing&#8221;) by doing:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="nx">dom</span><span class="p">){</span>
  <span class="nx">parser</span><span class="p">.</span><span class="nx">instantiate</span><span class="p">([</span><span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;myDiv&quot;</span><span class="p">)],</span> <span class="p">{</span> <span class="nx">data</span><span class="o">-</span><span class="nx">dojo</span><span class="o">-</span><span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;my/custom/type&quot;</span> <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dojo/dom&quot;], function(parser, dom){
  parser.instantiate([dom.byId(&quot;myDiv&quot;)], { data-dojo-type: &quot;my/custom/type&quot; });
});</textarea></div><p>Calling instantiate in this way will return to you a list of instances that were created. Note that the first parameter
to instantiate is an array of nodes, even if it&#8217;s one-element you need to wrap it in an array.</p>
<p>You specify that you do not want sub-widgets to be started if you pass <tt class="docutils literal"><span class="pre">_started:</span> <span class="pre">false</span></tt> in your mixin.  For example:</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/dom&quot;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="nx">dom</span><span class="p">){</span>
  <span class="nx">parser</span><span class="p">.</span><span class="nx">instantiate</span><span class="p">([</span><span class="nx">dom</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;myDiv&quot;</span><span class="p">)],</span> <span class="p">{</span> <span class="nx">data</span><span class="o">-</span><span class="nx">dojo</span><span class="o">-</span><span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;my/custom/type&quot;</span><span class="p">,</span> <span class="nx">_started</span><span class="o">:</span> <span class="kc">false</span> <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dojo/dom&quot;], function(parser, dom){
  parser.instantiate([dom.byId(&quot;myDiv&quot;)], { data-dojo-type: &quot;my/custom/type&quot;, _started: false });
});</textarea></div></div>
<div class="section" id="construct">
<h3><a class="toc-backref" href="#id18">construct()</a><a class="headerlink" href="#construct" title="Permalink to this headline">¶</a></h3>
<p>You can manually call <tt class="docutils literal"><span class="pre">dojo/parser::construct()</span></tt> and will construct a single instance of an object. It takes several
arguments:</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ctor</td>
<td>Function</td>
<td>The class constructor.</td>
</tr>
<tr class="row-odd"><td>node</td>
<td>DOMNode</td>
<td>This node will be replaced/attached to by the widget.  It can also specify the arguments to pass to
ctor.</td>
</tr>
<tr class="row-even"><td>mixin</td>
<td>Object?</td>
<td><em>Optional</em> A hash that should be mixed into the properties sent to the ctor.</td>
</tr>
<tr class="row-odd"><td>options</td>
<td>Object?</td>
<td><em>Optional</em> A hash of special keyword arguments that are used in the construction of an object.</td>
</tr>
<tr class="row-even"><td>scripts</td>
<td>DomNode[]?</td>
<td><em>Optional</em> Array of <tt class="docutils literal"><span class="pre">&lt;script</span> <span class="pre">type=&quot;dojo/*&quot;&gt;</span></tt> DOMNodes.  If not specified, will search for
<tt class="docutils literal"><span class="pre">&lt;script&gt;</span></tt> tags inside node.</td>
</tr>
<tr class="row-odd"><td>inherited</td>
<td>Object?</td>
<td><em>Optional</em> A hash of attributes that have been inherited from a ancestor node.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="caveats">
<h2><a class="toc-backref" href="#id19">Caveats</a><a class="headerlink" href="#caveats" title="Permalink to this headline">¶</a></h2>
<p>If you try to parse the same content twice, or parse content mentioning id&#8217;s of existing widgets, it will cause an
exception about duplicate id&#8217;s.</p>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id20">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: false', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><p>An example that creates a login form.</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/Button&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/Form&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/TextBox&quot;</span><span class="p">],</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="nx">ready</span><span class="p">){</span>
  <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">parser</span><span class="p">.</span><span class="nx">parse</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dojo/ready&quot;, &quot;dijit/form/Button&quot;, &quot;dijit/form/Form&quot;, &quot;dijit/form/TextBox&quot;],
function(parser, ready){
  ready(function(){
    parser.parse();
  });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;form</span> <span class="na">type=</span><span class="s">&quot;dijit/form/Form&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;table&gt;</span>
    <span class="nt">&lt;tbody&gt;</span>
      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;label</span> <span class="na">for=</span><span class="s">&quot;username&quot;</span><span class="nt">&gt;</span>Username:<span class="nt">&lt;/label&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;username&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/TextBox&quot;</span>
            <span class="na">data-dojo-props=</span><span class="s">&quot;placeHolder: &#39;type in your name&#39;&quot;</span> <span class="nt">/&gt;&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;label</span> <span class="na">for=</span><span class="s">&quot;password&quot;</span><span class="nt">&gt;</span>Password:<span class="nt">&lt;/label&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;password&quot;</span> <span class="na">name=</span><span class="s">&quot;password&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/TextBox&quot;</span>
            <span class="na">data-dojo-props=</span><span class="s">&quot;placeHolder: &#39;enter your password&#39;&quot;</span> <span class="nt">/&gt;&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/tbody&gt;</span>
  <span class="nt">&lt;/table&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span><span class="nt">&gt;</span>Login<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;form type=&quot;dijit/form/Form&quot;&gt;
  &lt;table&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;label for=&quot;username&quot;&gt;Username:&lt;/label&gt;&lt;/td&gt;
        &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot; data-dojo-type=&quot;dijit/form/TextBox&quot;
            data-dojo-props=&quot;placeHolder: 'type in your name'&quot; /&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;&lt;/td&gt;
        &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot; data-dojo-type=&quot;dijit/form/TextBox&quot;
            data-dojo-props=&quot;placeHolder: 'enter your password'&quot; /&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;button type=&quot;submit&quot; data-dojo-type=&quot;dijit/form/Button&quot;&gt;Login&lt;/button&gt;
&lt;/form&gt;</textarea></div></div></div><div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><p>An example that uses a declarative require and declarative scripting only.</p>
<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/require&quot;</span><span class="nt">&gt;</span>
  <span class="nx">on</span><span class="o">:</span> <span class="s2">&quot;dojo/on&quot;</span><span class="p">,</span>
  <span class="nx">Button</span><span class="o">:</span> <span class="s2">&quot;dijit/form/Button&quot;</span><span class="p">,</span>
  <span class="nx">registry</span><span class="o">:</span> <span class="s2">&quot;dijit/registry&quot;</span><span class="p">,</span>
  <span class="nx">domConst</span><span class="o">:</span> <span class="s2">&quot;dojo/dom-construct&quot;</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;Button&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;span&gt;</span>Click Me First!<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;dojo/on&quot;</span> <span class="na">data-dojo-event=</span><span class="s">&quot;click&quot;</span><span class="nt">&gt;</span>
    <span class="nx">on</span><span class="p">(</span><span class="nx">registry</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;clickButton&quot;</span><span class="p">),</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="nx">domConst</span><span class="p">.</span><span class="nx">place</span><span class="p">(</span><span class="s2">&quot;&lt;p&gt;I was clicked!&lt;/p&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="nx">registry</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;clickButton&quot;</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;Click Me Now!&quot;</span><span class="p">);</span>
    <span class="nx">registry</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;clickButton&quot;</span><span class="p">).</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">id=</span><span class="s">&quot;clickButton&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;Button&quot;</span> <span class="na">disabled=</span><span class="s">&quot;disabled&quot;</span><span class="nt">&gt;</span>Can&#39;t Click Me<span class="nt">&lt;/button&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;script type=&quot;dojo/require&quot;&gt;
  on: &quot;dojo/on&quot;,
  Button: &quot;dijit/form/Button&quot;,
  registry: &quot;dijit/registry&quot;,
  domConst: &quot;dojo/dom-construct&quot;
&lt;/script&gt;
&lt;div id=&quot;output&quot;&gt;&lt;/div&gt;
&lt;button type=&quot;button&quot; data-dojo-type=&quot;Button&quot;&gt;
  &lt;span&gt;Click Me First!&lt;/span&gt;
  &lt;script type=&quot;dojo/on&quot; data-dojo-event=&quot;click&quot;&gt;
    on(registry.byId(&quot;clickButton&quot;), &quot;click&quot;, function(){
      domConst.place(&quot;&lt;p&gt;I was clicked!&lt;/p&gt;&quot;, &quot;output&quot;);
    });
    registry.byId(&quot;clickButton&quot;).set(&quot;label&quot;, &quot;Click Me Now!&quot;);
    registry.byId(&quot;clickButton&quot;).set(&quot;disabled&quot;, false);
    this.set(&quot;disabled&quot;, true);
  &lt;/script&gt;
&lt;/button&gt;
&lt;button type=&quot;button&quot; id=&quot;clickButton&quot; data-dojo-type=&quot;Button&quot; disabled=&quot;disabled&quot;&gt;Can't Click Me&lt;/button&gt;</textarea></div></div></div><div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: false, async: true', version:'' }, width:'700', height:'400', toolbar:'', themename:'claro'"><div class="CodeGlassMiniInner"><p>An example that uses the parser in an asyncronous fashion and does something with the returned instances.</p>
<div class="highlight"><pre><span class="nx">require</span><span class="p">([</span><span class="s2">&quot;dojo/parser&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/_base/array&quot;</span><span class="p">,</span> <span class="s2">&quot;dojo/ready&quot;</span><span class="p">,</span> <span class="s2">&quot;dijit/form/Button&quot;</span><span class="p">],</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="nx">array</span><span class="p">,</span> <span class="nx">ready</span><span class="p">){</span>
  <span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">parser</span><span class="p">.</span><span class="nx">parse</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">instances</span><span class="p">){</span>
      <span class="nx">array</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">instances</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">instance</span><span class="p">){</span>
        <span class="nx">instance</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;Click Me!&quot;</span><span class="p">);</span>
        <span class="nx">instance</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">require([&quot;dojo/parser&quot;, &quot;dojo/_base/array&quot;, &quot;dojo/ready&quot;, &quot;dijit/form/Button&quot;],
function(parser, array, ready){
  ready(function(){
    parser.parse().then(function(instances){
      array.forEach(instances, function(instance){
        instance.set(&quot;label&quot;, &quot;Click Me!&quot;);
        instance.set(&quot;disabled&quot;, false);
      });
    });
  });
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span> <span class="na">disabled=</span><span class="s">&quot;disabled&quot;</span><span class="nt">&gt;</span>Don&#39;t Click Me!<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span> <span class="na">disabled=</span><span class="s">&quot;disabled&quot;</span><span class="nt">&gt;</span>Don&#39;t Click Me!<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;button&quot;</span> <span class="na">data-dojo-type=</span><span class="s">&quot;dijit/form/Button&quot;</span> <span class="na">disabled=</span><span class="s">&quot;disabled&quot;</span><span class="nt">&gt;</span>Don&#39;t Click Me!<span class="nt">&lt;/button&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;button type=&quot;button&quot; data-dojo-type=&quot;dijit/form/Button&quot; disabled=&quot;disabled&quot;&gt;Don't Click Me!&lt;/button&gt;
&lt;button type=&quot;button&quot; data-dojo-type=&quot;dijit/form/Button&quot; disabled=&quot;disabled&quot;&gt;Don't Click Me!&lt;/button&gt;
&lt;button type=&quot;button&quot; data-dojo-type=&quot;dijit/form/Button&quot; disabled=&quot;disabled&quot;&gt;Don't Click Me!&lt;/button&gt;</textarea></div></div></div></div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id21">See also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="_base/declare.html#dojo-base-declare"><em>dojo/_base/declare</em></a> - Dojo&#8217;s class declaration module</li>
<li><a class="reference internal" href="promise.html#dojo-promise"><em>dojo/promise</em></a> - Dojo&#8217;s promise (asynchronous communication) package.</li>
</ul>
</div>
</div>


                        </div>
                    </div>
                    <div class="sidebar unit size1of4 lastUnit">
                        <h4>Reference Guide</h4>
						<div id="dtkVersion">
							<label for="refver">Dojo Version</label>
							<select id="refver" name="refver">
								<option value="1.6">1.6</option>
								<option value="1.7">1.7</option>
								<option value="1.8" selected="selected">1.8</option>
                                <option value="1.9">1.9</option>
							</select>
						</div>
                        <ul>
                            <li><a href="../index.html">Startpage</a></li>
                            <li><a href="index.html">Dojo</a></li>
                            <li><a href="../dijit/index.html">Dijit</a></li>
                            <li><a href="../dojox/index.html">DojoX</a></li>
                        </ul>
                        
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">dojo/parser</a><ul>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#loading-the-parser">Loading the Parser</a></li>
<li><a class="reference internal" href="#running-the-parser">Running the Parser</a></li>
<li><a class="reference internal" href="#return-results">Return Results</a></li>
</ul>
</li>
<li><a class="reference internal" href="#markup">Markup</a><ul>
<li><a class="reference internal" href="#object-types">Object Types</a><ul>
<li><a class="reference internal" href="#data-dojo-mixins">data-dojo-mixins</a></li>
<li><a class="reference internal" href="#auto-require">Auto Require</a></li>
</ul>
</li>
<li><a class="reference internal" href="#declarative-require">Declarative Require</a></li>
<li><a class="reference internal" href="#parser-parameters">Parser Parameters</a><ul>
<li><a class="reference internal" href="#boolean-parameters">Boolean parameters</a></li>
<li><a class="reference internal" href="#date-parameters">Date parameters</a></li>
<li><a class="reference internal" href="#function-parameters">Function parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#script-tags">Script Tags</a><ul>
<li><a class="reference internal" href="#changing-the-behavior-of-a-method">Changing the Behavior of a Method</a></li>
<li><a class="reference internal" href="#execute-code-when-an-event-occurs">Execute Code when an Event Occurs</a></li>
<li><a class="reference internal" href="#execute-code-on-change-of-property">Execute Code on Change of Property</a></li>
<li><a class="reference internal" href="#overriding-a-method">Overriding a Method</a></li>
<li><a class="reference internal" href="#execute-code-on-instantiation">Execute Code on Instantiation</a></li>
<li><a class="reference internal" href="#connecting-to-a-method">Connecting to a Method</a></li>
<li><a class="reference internal" href="#declarative-scripting-arguments">Declarative Scripting Arguments</a></li>
<li><a class="reference internal" href="#changing-the-execution-scope-of-a-declarative-script">Changing the Execution Scope of a Declarative Script</a></li>
<li><a class="reference internal" href="#script-scope">Script Scope</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#writing-widgets">Writing widgets</a><ul>
<li><a class="reference internal" href="#specifying-attributes-and-types">Specifying attributes and types</a></li>
<li><a class="reference internal" href="#markupfactory">markupFactory()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#parser-api-notes">Parser API Notes</a><ul>
<li><a class="reference internal" href="#parse">parse()</a></li>
<li><a class="reference internal" href="#instantiate">instantiate()</a></li>
<li><a class="reference internal" href="#construct">construct()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#caveats">Caveats</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="on.html"
                        title="previous chapter">dojo/on</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="partial.html"
                        title="next chapter">dojo.partial</a></p>
    <div id="searchbox" style="display: none">
        <h3>Quick search</h3>
        <form class="search" action="../search.html" method="get">
            <input type="text" name="q" size="18" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
         </form>
         <p class="searchtip" style="font-size: 90%">
             Enter search terms or a module, class or function name.
         </p>
    </div>
        </div>
      </div>
                    </div>
                </div>
            </div>
        </div>
        <hr class="hide" />
        <div id="foot">
            <div class="innerBox">
                <script type="text/javascript">document.write('<a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&amp;formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&amp;entry_0=' + encodeURIComponent(window.location.href) + '">Error in the documentation? Can’t find what you are looking for? Let us know!</a>');</script>
                <div class="footer">
                      &copy; Copyright 2005-2012, Dojo Foundation.
                      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
                </div>
            </div>  
        </div>
        <script src="http://www.google.com/jsapi?key=ABQIAAAAbTW5DVaTIHKHQe5Q75sB0BSaOaO_TgJ5c3mtQFnk5JO2zD5dZBSGHlRJ8HAPlCQCEO_FxSmyNAHSLw" type="text/javascript"></script>
    </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>