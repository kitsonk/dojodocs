

<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojox.grid.LazyTreeGrid &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="The Dojo Toolkit - Reference Guide" href="../../index.html" />
    <link rel="up" title="DojoX" href="../contents.html" />
    <link rel="next" title="dojox.grid.TreeGrid" href="TreeGrid.html" />
    <link rel="prev" title="dojox.grid.EnhancedGrid.plugins.Selector" href="EnhancedGrid/plugins/Selector.html" />

    <link rel="stylesheet" href="../../_static/css/site.css">
    <link rel="stylesheet" href="../../_static/js/docs/resources/guide.css">
	<script type="text/javascript">
		dojoConfig = {
			async: true
		};
	</script>
    <script type="text/javascript" src="../../_static/js/dojo/dojo.js"></script>
    <script type="text/javascript" src="../../_static/js/docs/guide.js"></script>

  </head>
  <body>  

    <div class="document">
    <div id="accessibilityNode">
        <a href="#intro">Skip to Content</a> | <a href="#nav">Skip to Navigation</a>
    </div>
    <hr class="hide">
    <div id="page" class="docPage">
        <div id="header">
            <div class="container">
                <span id="logo"><a title="Home" href="http://dojotoolkit.org">
                    <img alt="Dojo Toolkit" src="../../_static/images/logo.png"></a>
                </span>
                <ul id="navigation">
                    <li class="home"><a href="/"><span class="homeIcon"></span></a></li>
                    <li class="download"><a href="/download/">Download</a></li>
                    <li class="features"><a href="/features/">Features</a></li>
                    <li class="docs active"><a href="/documentation/">Documentation</a></li>
                    <li class="community"><a href="/community/">Community</a></li>
                    <li class="about"><a href="/blog/">Blog</a></li>
                </ul>
            </div>
        </div>
    
        <hr class="hide" />
    
        <div id="main">
            <div id="content" class="innerBox">
                <div class="pageTitleContainer">
                    <h1>Documentation</h1>
                    <ul class="subnav">
                        <li><a href="/documentation/"><span>Tutorials</span></a></li>
                        <li class="active"><a href="/reference-guide/"><span>Reference Guide</span></a></li>
                        <li><a href="/api/"><span>API Documentation</span></a></li>
                    </ul>
                </div>
                <div class="line">
                    <div class="unit size3of4 firstUnit">
                        <div class="spacer">
                            
  <div class="section" id="dojox-grid-lazytreegrid">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojox.grid.LazyTreeGrid</a><a class="headerlink" href="#dojox-grid-lazytreegrid" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Wang Qiang</td>
</tr>
<tr class="field-even field"><th class="field-name">Project owner:</th><td class="field-body">Evan Huang</td>
</tr>
<tr class="field-odd field"><th class="field-name">since:</th><td class="field-body">V1.6</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dojox-grid-lazytreegrid" id="id2">dojox.grid.LazyTreeGrid</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#public-api" id="id5">Public API</a></li>
<li><a class="reference internal" href="#examples" id="id6">Examples</a></li>
<li><a class="reference internal" href="#accessibility" id="id7">Accessibility</a></li>
<li><a class="reference internal" href="#see-also" id="id8">See Also</a></li>
</ul>
</li>
</ul>
</div>
<p>This is a stub help page for the new dojox.grid.LazyTreeGrid which is still in progress. The information on this page may be out-of-date due to the fact that the API for the LazyTreeGrid is still very much in flux.</p>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The Lazy-loading-TreeGrid(dojox.grid.LazyTreeGrid) is an extension of dojox.grid.TreeGrid, it is specifically designed for data store with huge nested-level rows. For the reason of the original TreeGrid can only do lazy-load on the 1st-level items, it doesn&#8217;t work well with large number of nested-level items. The Lazy-loading-TreeGrid renders each data item as an independent row no matter which level it is, and reuse the virtual scrolling model of DataGrid for paging of either top/nested level rows. This Widget inherits from dojo.grid.TreeGrid, hence all methods and properties pertaining to that Widget are also applicable.</p>
<div data-dojo-type="docs.MiniGlass" class="CodeGlassMini" data-dojo-props="type: 'dialog', pluginArgs:{ dojoConfig: 'parseOnLoad: true', version:'' }, width:'550', height:'330', toolbar:'themes, versions, dir', themename:'claro'"><div class="CodeGlassMiniInner"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;dojox.grid.LazyTreeGrid&quot;</span><span class="p">);</span>
<span class="nx">dojo</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;dijit.tree.ForestStoreModel&quot;</span><span class="p">);</span>
<span class="nx">dojo</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;dojo.data.ItemFileWriteStore&quot;</span><span class="p">);</span>

<span class="nx">dojo</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="cm">/* set up data store */</span>
    <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">identifier</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
        <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
        <span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Africa&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Egypt&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Kenya&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Nairobi&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="nx">adults</span><span class="o">:</span> <span class="mi">70400</span><span class="p">,</span> <span class="nx">popnum</span><span class="o">:</span> <span class="mi">2940911</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Mombasa&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="nx">adults</span><span class="o">:</span> <span class="mi">294091</span><span class="p">,</span> <span class="nx">popnum</span><span class="o">:</span> <span class="mi">707400</span> <span class="p">}</span> <span class="p">]</span>
          <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Sudan&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Khartoum&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="nx">adults</span><span class="o">:</span> <span class="mi">480293</span><span class="p">,</span> <span class="nx">popnum</span><span class="o">:</span> <span class="mi">1200394</span> <span class="p">}</span>
          <span class="p">}</span> <span class="p">]</span>
          <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Asia&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
              <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;China&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
              <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;India&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
              <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Russia&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
              <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Mongolia&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">}</span> <span class="p">]</span>
          <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Australia&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="nx">population</span><span class="o">:</span><span class="s1">&#39;21 million&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Commonwealth of Australia&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="nx">population</span><span class="o">:</span><span class="s1">&#39;21 million&#39;</span><span class="p">}</span>
          <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Europe&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Germany&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;France&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Spain&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Italy&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">}</span> <span class="p">]</span>
          <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;North America&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Mexico&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span>  <span class="nx">population</span><span class="o">:</span><span class="s1">&#39;108 million&#39;</span><span class="p">,</span> <span class="nx">area</span><span class="o">:</span><span class="s1">&#39;1,972,550 sq km&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
              <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Mexico City&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="nx">adults</span><span class="o">:</span> <span class="mi">120394</span><span class="p">,</span> <span class="nx">popnum</span><span class="o">:</span> <span class="mi">19394839</span><span class="p">,</span> <span class="nx">population</span><span class="o">:</span><span class="s1">&#39;19 million&#39;</span><span class="p">,</span> <span class="nx">timezone</span><span class="o">:</span><span class="s1">&#39;-6 UTC&#39;</span><span class="p">},</span>
              <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Guadalajara&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="nx">adults</span><span class="o">:</span> <span class="mi">1934839</span><span class="p">,</span> <span class="nx">popnum</span><span class="o">:</span> <span class="mi">4830293</span><span class="p">,</span> <span class="nx">population</span><span class="o">:</span><span class="s1">&#39;4 million&#39;</span><span class="p">,</span> <span class="nx">timezone</span><span class="o">:</span><span class="s1">&#39;-6 UTC&#39;</span> <span class="p">}</span> <span class="p">]</span>
          <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Canada&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span>  <span class="nx">population</span><span class="o">:</span><span class="s1">&#39;33 million&#39;</span><span class="p">,</span> <span class="nx">area</span><span class="o">:</span><span class="s1">&#39;9,984,670 sq km&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
              <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Ottawa&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="nx">adults</span><span class="o">:</span> <span class="mi">230493</span><span class="p">,</span> <span class="nx">popnum</span><span class="o">:</span> <span class="mi">9382019</span><span class="p">,</span> <span class="nx">population</span><span class="o">:</span><span class="s1">&#39;0.9 million&#39;</span><span class="p">,</span> <span class="nx">timezone</span><span class="o">:</span><span class="s1">&#39;-5 UTC&#39;</span><span class="p">},</span>
              <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Toronto&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="nx">adults</span><span class="o">:</span> <span class="mi">932019</span><span class="p">,</span> <span class="nx">popnum</span><span class="o">:</span> <span class="mi">2530493</span><span class="p">,</span> <span class="nx">population</span><span class="o">:</span><span class="s1">&#39;2.5 million&#39;</span><span class="p">,</span> <span class="nx">timezone</span><span class="o">:</span><span class="s1">&#39;-5 UTC&#39;</span> <span class="p">}]</span>
          <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;United States of America&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span> <span class="p">}</span> <span class="p">]</span>
          <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;South America&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;continent&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Brazil&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="nx">population</span><span class="o">:</span><span class="s1">&#39;186 million&#39;</span> <span class="p">},</span>
          <span class="p">{</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Argentina&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="nx">population</span><span class="o">:</span><span class="s1">&#39;40 million&#39;</span> <span class="p">}</span> <span class="p">]</span>
          <span class="p">}</span> <span class="p">]</span>
    <span class="p">};</span>
    <span class="kd">var</span> <span class="nx">store</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">ItemFileWriteStore</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">});</span>
        <span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">dijit</span><span class="p">.</span><span class="nx">tree</span><span class="p">.</span><span class="nx">ForestStoreModel</span><span class="p">({</span><span class="nx">store</span><span class="o">:</span> <span class="nx">store</span><span class="p">,</span> <span class="nx">childrenAttrs</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;children&#39;</span><span class="p">]});</span>

    <span class="cm">/* set up layout */</span>
    <span class="kd">var</span> <span class="nx">layout</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;30%&#39;</span><span class="p">},</span>
      <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Type&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;30%&#39;</span><span class="p">},</span>
      <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Population&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;population&#39;</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;20%&#39;</span><span class="p">},</span>
      <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Area&#39;</span><span class="p">,</span> <span class="nx">field</span><span class="o">:</span> <span class="s1">&#39;area&#39;</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;20%&#39;</span><span class="p">}</span>
    <span class="p">];</span>

    <span class="cm">/* create a new grid: */</span>
    <span class="kd">var</span> <span class="nx">grid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">dojox</span><span class="p">.</span><span class="nx">grid</span><span class="p">.</span><span class="nx">LazyTreeGrid</span><span class="p">({</span>
        <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;grid&#39;</span><span class="p">,</span>
        <span class="nx">treeModel</span><span class="o">:</span> <span class="nx">model</span><span class="p">,</span>
        <span class="nx">structure</span><span class="o">:</span> <span class="nx">layout</span><span class="p">,</span>
        <span class="nx">rowSelector</span><span class="o">:</span> <span class="s1">&#39;20px&#39;</span>
      <span class="p">},</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">));</span>

    <span class="cm">/* append the new grid to the div */</span>
    <span class="nx">dojo</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;gridDiv&quot;</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">grid</span><span class="p">.</span><span class="nx">domNode</span><span class="p">);</span>

    <span class="cm">/* Call startup() to render the grid */</span>
    <span class="nx">grid</span><span class="p">.</span><span class="nx">startup</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">dojo.require(&quot;dojox.grid.LazyTreeGrid&quot;);
dojo.require(&quot;dijit.tree.ForestStoreModel&quot;);
dojo.require(&quot;dojo.data.ItemFileWriteStore&quot;);

dojo.ready(function(){
    /* set up data store */
    var data = { identifier: 'name',
        label: 'name',
        items: [
          { name:'Africa', type:'continent', children:[
          { name:'Egypt', type:'country' },
          { name:'Kenya', type:'country', children:[
          { name:'Nairobi', type:'city', adults: 70400, popnum: 2940911 },
          { name:'Mombasa', type:'city', adults: 294091, popnum: 707400 } ]
          },
          { name:'Sudan', type:'country', children:
          { name:'Khartoum', type:'city', adults: 480293, popnum: 1200394 }
          } ]
          },
          { name:'Asia', type:'continent', children:[
              { name:'China', type:'country' },
              { name:'India', type:'country' },
              { name:'Russia', type:'country' },
              { name:'Mongolia', type:'country' } ]
          },
          { name:'Australia', type:'continent', population:'21 million', children:
          { name:'Commonwealth of Australia', type:'country', population:'21 million'}
          },
          { name:'Europe', type:'continent', children:[
          { name:'Germany', type:'country' },
          { name:'France', type:'country' },
          { name:'Spain', type:'country' },
          { name:'Italy', type:'country' } ]
          },
          { name:'North America', type:'continent', children:[
          { name:'Mexico', type:'country',  population:'108 million', area:'1,972,550 sq km', children:[
              { name:'Mexico City', type:'city', adults: 120394, popnum: 19394839, population:'19 million', timezone:'-6 UTC'},
              { name:'Guadalajara', type:'city', adults: 1934839, popnum: 4830293, population:'4 million', timezone:'-6 UTC' } ]
          },
          { name:'Canada', type:'country',  population:'33 million', area:'9,984,670 sq km', children:[
              { name:'Ottawa', type:'city', adults: 230493, popnum: 9382019, population:'0.9 million', timezone:'-5 UTC'},
              { name:'Toronto', type:'city', adults: 932019, popnum: 2530493, population:'2.5 million', timezone:'-5 UTC' }]
          },
          { name:'United States of America', type:'country' } ]
          },
          { name:'South America', type:'continent', children:[
          { name:'Brazil', type:'country', population:'186 million' },
          { name:'Argentina', type:'country', population:'40 million' } ]
          } ]
    };
    var store = new dojo.data.ItemFileWriteStore({data: data});
        var model = new dijit.tree.ForestStoreModel({store: store, childrenAttrs: ['children']});

    /* set up layout */
    var layout = [
      {name: 'Name', field: 'name', width: '30%'},
      {name: 'Type', field: 'type', width: '30%'},
      {name: 'Population', field: 'population', width: '20%'},
      {name: 'Area', field: 'area', width: '20%'}
    ];

    /* create a new grid: */
    var grid = new dojox.grid.LazyTreeGrid({
        id: 'grid',
        treeModel: model,
        structure: layout,
        rowSelector: '20px'
      }, document.createElement('div'));

    /* append the new grid to the div */
    dojo.byId(&quot;gridDiv&quot;).appendChild(grid.domNode);

    /* Call startup() to render the grid */
    grid.startup();
});</textarea></div><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;gridDiv&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="html"><textarea style="display:none">&lt;div id=&quot;gridDiv&quot;&gt;&lt;/div&gt;</textarea></div><div class="highlight"><pre><span class="k">@import</span> <span class="s2">&quot;{{baseUrl}}dojo/resources/dojo.css&quot;</span><span class="p">;</span>
<span class="k">@import</span> <span class="s2">&quot;{{baseUrl}}dijit/themes/claro/claro.css&quot;</span><span class="p">;</span>
<span class="k">@import</span> <span class="s2">&quot;{{baseUrl}}dojox/grid/resources/Grid.css&quot;</span><span class="p">;</span>
<span class="k">@import</span> <span class="s2">&quot;{{baseUrl}}dojox/grid/resources/claroGrid.css&quot;</span><span class="p">;</span>

<span class="c">/* Grid need a explicit width/height by default */</span>
<span class="nf">#grid</span> <span class="p">{</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">43em</span><span class="p">;</span>
    <span class="k">height</span><span class="o">:</span> <span class="m">20em</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="css"><textarea style="display:none">&#64;import &quot;{{baseUrl}}dojo/resources/dojo.css&quot;;
&#64;import &quot;{{baseUrl}}dijit/themes/claro/claro.css&quot;;
&#64;import &quot;{{baseUrl}}dojox/grid/resources/Grid.css&quot;;
&#64;import &quot;{{baseUrl}}dojox/grid/resources/claroGrid.css&quot;;

/* Grid need a explicit width/height by default */
#grid {
    width: 43em;
    height: 20em;
}</textarea></div></div></div><div class="section" id="supported-data-structure">
<h3>Supported Data Structure<a class="headerlink" href="#supported-data-structure" title="Permalink to this headline">¶</a></h3>
<p>For the reason of lazy loading children items, the dojox.grid.LazyTreeGrid could accept the flatted data. For example:</p>
<div class="highlight"><pre><span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">identifier</span><span class="o">:</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
  <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
  <span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;AF&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Africa&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
    <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;EG&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Egypt&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span> <span class="kc">false</span><span class="p">},</span>
    <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;KE&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Kenya&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
    <span class="p">......</span>
  <span class="p">]}</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">data = {
  identifier: 'id',
  label: 'name',
  items: [
    {id: 'AF', name:'Africa', children: true},
    {id: 'EG', name:'Egypt', children: false},
    {id: 'KE', name:'Kenya', children: true},
    ......
  ]}
}</textarea></div><p>In this case, the &#8220;children&#8221; attribute would be a flag rather than an actual value. (The name of &#8220;children&#8221; attribute would be specified by the TreeModel)</p>
<p>Also, the nested data structure is available in normally case (small data or data is stored at client side). For example:</p>
<div class="highlight"><pre><span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">identifier</span><span class="o">:</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
  <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
  <span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;AF&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Africa&#39;</span><span class="p">,</span>
      <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
        <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;EG&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Egypt&#39;</span> <span class="p">},</span>
        <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;KE&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Kenya&#39;</span><span class="p">,</span>
          <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
            <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;Nairobi&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Nairobi&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span> <span class="p">},</span>
            <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;Mombasa&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Mombasa&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span> <span class="p">}</span>
          <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">...</span>
      <span class="p">]</span>
    <span class="p">},</span>
  <span class="p">...</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">data = {
  identifier: 'id',
  label: 'name',
  items: [
    {id: 'AF', name:'Africa',
      children:[
        {id: 'EG', name:'Egypt' },
        {id: 'KE', name:'Kenya',
          children:[
            {id: 'Nairobi', name:'Nairobi', type:'city' },
            {id: 'Mombasa', name:'Mombasa', type:'city' }
          ]
        },
        ...
      ]
    },
  ...
  ]
}</textarea></div><p>Even more, for the situations where there are many children of some items as well as there are very few children of other items, you could use the following data structure:</p>
<div class="highlight"><pre><span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">identifier</span><span class="o">:</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
  <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
  <span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;AF&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Africa&#39;</span><span class="p">,</span> <span class="nx">children</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
    <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;EG&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Egypt&#39;</span> <span class="p">,</span> <span class="nx">children</span><span class="o">:</span> <span class="kc">false</span><span class="p">},</span>
    <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;KE&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Kenya&#39;</span><span class="p">,</span>
      <span class="nx">children</span><span class="o">:</span><span class="p">[</span>
        <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;Nairobi&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Nairobi&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;Mombasa&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;Mombasa&#39;</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;city&#39;</span><span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">...</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">data = {
  identifier: 'id',
  label: 'name',
  items: [
    {id: 'AF', name:'Africa', children: true},
    {id: 'EG', name:'Egypt' , children: false},
    {id: 'KE', name:'Kenya',
      children:[
        {id: 'Nairobi', name:'Nairobi', type:'city'},
        {id: 'Mombasa', name:'Mombasa', type:'city'}
      ]
    },
    ...
  ]
}</textarea></div><p>Please note the flatted data structure (case 1&amp;3) could be used only when using a dojox.grid.LazyTreeGridStoreModel, and if you want to use a dijit.tree.ForestStoreModel in your page, please make sure the returned data is nested structure. (For more details, please see TreeModel below)</p>
</div>
<div class="section" id="the-mechanism-of-rendering">
<h3>The Mechanism of Rendering<a class="headerlink" href="#the-mechanism-of-rendering" title="Permalink to this headline">¶</a></h3>
<p>For dojox.grid.TreeGrid, the root item and all of its children/sub-children would be rendered in a single row:</p>
<img alt="../../_images/ltg1.jpg" src="../../_images/ltg1.jpg" />
<p>This might case performance issue when there are huge children item, because all of them will be rendered at a single time.</p>
<p>Regarding dojox.grid.LazyTreeGrid, each item would be rendered in a single row:</p>
<img alt="../../_images/ltg2.jpg" src="../../_images/ltg2.jpg" />
</div>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>The dojox.grid.LazyTreeGrid can either be defined declaratively in HTML or programmatically. For the most part, the dojox.grid.LazyTreeGrid follows the same structure and formatting as dojox.grid.TreeGrid with the following exceptions:</p>
<blockquote>
<div><ul class="simple">
<li>LazyTreeGrid must have a TreeModel, the TreeModel could be the dijit.tree.ForestStoreModel/dojox.grid.LazyTreeGridStoreModel, or a custom TreeModel that inherited from them.</li>
<li>LazyTreeGrid structures does not contain “children” values for nested level rows.(See dojox.grid.TreeGrid - Structure Definition)</li>
<li>LazyTreeGrid does not contain an aggregate row, and its formatters don’t handle negative rowIndex values.</li>
<li>LazyTreeGrid formatters receive a level parameter. (See &#8220;Formatting&#8221; below)</li>
<li>defaultOpen/openAtLevels/aggregate/itemAggregates do not be available any more.</li>
<li>The getItem function only accept a row index.</li>
</ul>
</div></blockquote>
<p>The following parameters are supported in the dojox.grid.LazyTreeGrid:</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="17%" />
<col width="20%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Type</th>
<th class="head">Default Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>rowsPerPage</td>
<td>Integer</td>
<td>25</td>
<td>Number of rows to render at a time</td>
</tr>
<tr class="row-odd"><td>autoWidth</td>
<td>Boolean</td>
<td>false</td>
<td>If autoWidth is true, grid width is automatically set to fit the data</td>
</tr>
<tr class="row-even"><td>autoHeight</td>
<td>Boolean/Integer</td>
<td>&#8220;&#8221;</td>
<td>Boolean: If autoHeight is true, grid height is automatically set to fit the data.
Integer: The height will be set to show that many rows as specified; but if there are fewer
rows than that specified number, the grid height will be automatically set to fit the data.</td>
</tr>
<tr class="row-odd"><td>defaultHeight</td>
<td>String</td>
<td>&#8220;15em&#8221;</td>
<td>Default height of the grid, measured in any valid css unit.</td>
</tr>
<tr class="row-even"><td>height</td>
<td>String</td>
<td>&#8220;&#8221;</td>
<td>Explicit height of the grid, measured in any valid css unit. This will be populated
(and overridden) if the height: css attribute exists on the source node</td>
</tr>
<tr class="row-odd"><td>selectionMode</td>
<td>String</td>
<td>&#8220;extended&#8221;</td>
<td>Set the selection mode of grid&#8217;s Selection (select row by click row or rowSelector). Value
must be &#8216;single&#8217;, &#8216;multiple&#8217; or &#8216;extended&#8217;. (assume there is no indirect selection being used)</td>
</tr>
<tr class="row-even"><td>rowSelector</td>
<td>String/Boolean</td>
<td>&#8220;&#8221;</td>
<td>If set to true, will add a row selector view to this grid. If set to a CSS width, will add a
row selector of that width to this grid</td>
</tr>
<tr class="row-odd"><td>headerMenu</td>
<td>dijit.Menu</td>
<td>null</td>
<td>If set to a dijit.Menu, will use this as a context menu for the grid headers</td>
</tr>
<tr class="row-even"><td>selectable</td>
<td>Boolean</td>
<td>false</td>
<td>Set to true if you want the user to be able to select the text within the grid</td>
</tr>
<tr class="row-odd"><td>structure</td>
<td>dojox.grid.__ViewDef</td>
<td>null</td>
<td>Layout definition</td>
</tr>
<tr class="row-even"><td>query</td>
<td>Object</td>
<td>null</td>
<td>The query may be optional in some data store implementations. Each different data store
implementation may have its own notion of what a query should look like. In general for
query objects that accept strings as attribute value matches, the store should also support
basic filtering capability, such as * (match any character) and ? (match single character).
An example query that is a query object would be like: { attrFoo: &#8220;value*&#8221;}. Which generally
means match all items where they have an attribute named attrFoo, with a value that starts
with &#8216;value&#8217;. It is more like a simple filter because that only be used to compare items&#8217;
attribute and query object attribute are equal or not.</td>
</tr>
<tr class="row-odd"><td>treeModel</td>
<td>dijit.tree.ForestStoreModel
/dojox.grid.LazyTreeGridStoreModel</td>
<td>null</td>
<td>This parameter is used instead of using aggregates in dojox.grid.TreeGrid. Its mainly role
in Lazy-loading-TreeGrid is to indicate the children attribute name of data item.</td>
</tr>
<tr class="row-even"><td>colSpans</td>
<td>Object</td>
<td>null</td>
<td>A Json object that flexibly defines detail column spans for all levels. This is a new
parameter in Lazy-loading-TreeGrid</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="treemodel">
<h3>TreeModel<a class="headerlink" href="#treemodel" title="Permalink to this headline">¶</a></h3>
<p>LazyTreeGrid must have a TreeModel, the TreeModel could be the dijit.tree.ForestStoreModel/dojox.grid.LazyTreeGridStoreModel, or a custom TreeModel that inherited from them.</p>
<p>The dojox.grid.LazyTreeGridStoreModel is designed for lazy loading children items, it will call store.fetch() with a query object {parentId: value} and start index, count number when LazyTreeGrid ask for sub-rows and these sub-items are not be loaded. There is a attribute called &#8220;serverStore&#8221; of LazyTreeGridStoreModel, this attribute indicate whether or not the data with flatted data structure is stored in server side (the data structure SHOULD BE nested when data is stored in client side since lazy loading would not be needed in that case), default is false.</p>
<p>When using a dijit.tree.ForestStoreModel, or using dojox.grid.LazyTreeGridStoreModel with setting parameter &#8220;serverStore&#8221; to false, the children items won&#8217;t be lazy loaded but all of the root rows and sub rows would still be lazy rendered. This is more applicable to the situation small data or data stored on client side.</p>
<p>An example LazyTreeGridStoreModel definition would look like this:</p>
<div class="highlight"><pre><span class="c1">// programmatic</span>
<span class="kd">var</span> <span class="nx">treeModel</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">dojox</span><span class="p">.</span><span class="nx">grid</span><span class="p">.</span><span class="nx">LazyTreeGridStoreModel</span><span class="p">({</span>
  <span class="nx">store</span><span class="o">:</span> <span class="nx">queryReadStore</span><span class="p">,</span>
  <span class="nx">serverStore</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>

<span class="c1">// declarative</span>
<span class="o">&lt;</span><span class="nx">span</span> <span class="nx">data</span><span class="o">-</span><span class="nx">dojo</span><span class="o">-</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;dojox.grid.LazyTreeGridStoreModel&quot;</span>
  <span class="nx">data</span><span class="o">-</span><span class="nx">dojo</span><span class="o">-</span><span class="nx">props</span><span class="o">=</span><span class="s2">&quot;store:queryReadStore, serverStore:true&quot;</span> <span class="o">&gt;</span>
<span class="o">&lt;</span><span class="err">/span&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">// programmatic
var treeModel = new dojox.grid.LazyTreeGridStoreModel({
  store: queryReadStore,
  serverStore: true
});

// declarative
&lt;span data-dojo-type=&quot;dojox.grid.LazyTreeGridStoreModel&quot;
  data-dojo-props=&quot;store:queryReadStore, serverStore:true&quot; &gt;
&lt;/span&gt;</textarea></div></div>
<div class="section" id="structure-definition">
<h3>Structure Definition<a class="headerlink" href="#structure-definition" title="Permalink to this headline">¶</a></h3>
<p>LazyTreeGrid does not support nested structure, as well as aggregate and itemAggregates. The following example is a LazyTreeGrid defined via HTML, just like the <a class="reference internal" href="DataGrid.html#dojox-grid-datagrid"><em>dojox.grid.DataGrid</em></a>:</p>
<div class="highlight"><pre><span class="o">&lt;</span><span class="nx">table</span> <span class="nx">data</span><span class="o">-</span><span class="nx">dojo</span><span class="o">-</span><span class="nx">id</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span> <span class="nx">data</span><span class="o">-</span><span class="nx">dojo</span><span class="o">-</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;dojox.grid.LazyTreeGrid&quot;</span> <span class="nx">data</span><span class="o">-</span><span class="nx">dojo</span><span class="o">-</span><span class="nx">props</span><span class="o">=</span><span class="s2">&quot;rowsPerPage:25</span>
<span class="s2">    rowSelector:&#39;20px&#39;, treeModel:&#39;forestStoreModel&#39;&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">thead</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">th</span> <span class="nx">field</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="nx">width</span><span class="o">=</span><span class="s2">&quot;150px&quot;</span> <span class="nx">formatter</span><span class="o">=</span><span class="s2">&quot;fmtName&quot;</span><span class="o">&gt;</span><span class="nx">Name</span><span class="o">&lt;</span><span class="err">/th&gt;</span>
      <span class="o">&lt;</span><span class="nx">th</span> <span class="nx">field</span><span class="o">=</span><span class="s2">&quot;id&quot;</span> <span class="nx">width</span><span class="o">=</span><span class="s2">&quot;30px&quot;</span><span class="o">&gt;</span><span class="nx">ID</span><span class="o">&lt;</span><span class="err">/th&gt;</span>
      <span class="o">&lt;</span><span class="nx">th</span> <span class="nx">field</span><span class="o">=</span><span class="s2">&quot;status&quot;</span> <span class="nx">width</span><span class="o">=</span><span class="s2">&quot;40px&quot;</span> <span class="nx">formatter</span><span class="o">=</span><span class="s2">&quot;fmtStatus&quot;</span><span class="o">&gt;</span><span class="nx">Status</span><span class="o">&lt;</span><span class="err">/th&gt;</span>
      <span class="o">&lt;</span><span class="nx">th</span> <span class="nx">field</span><span class="o">=</span><span class="s2">&quot;capacity&quot;</span> <span class="nx">width</span><span class="o">=</span><span class="s2">&quot;80px&quot;</span> <span class="nx">formatter</span><span class="o">=</span><span class="s2">&quot;fmtCapacity&quot;</span><span class="o">&gt;</span><span class="nx">Capacity</span><span class="o">&lt;</span><span class="err">/th&gt;</span>
      <span class="o">&lt;</span><span class="nx">th</span> <span class="nx">field</span><span class="o">=</span><span class="s2">&quot;uid&quot;</span> <span class="nx">width</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="o">&gt;</span><span class="nx">UID</span><span class="o">&lt;</span><span class="err">/th&gt;</span>
    <span class="o">&lt;</span><span class="err">/tr&gt;</span>
  <span class="o">&lt;</span><span class="err">/thead&gt;</span>
<span class="o">&lt;</span><span class="err">/table&gt;</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">&lt;table data-dojo-id=&quot;grid&quot; data-dojo-type=&quot;dojox.grid.LazyTreeGrid&quot; data-dojo-props=&quot;rowsPerPage:25
    rowSelector:'20px', treeModel:'forestStoreModel'&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th field=&quot;name&quot; width=&quot;150px&quot; formatter=&quot;fmtName&quot;&gt;Name&lt;/th&gt;
      &lt;th field=&quot;id&quot; width=&quot;30px&quot;&gt;ID&lt;/th&gt;
      &lt;th field=&quot;status&quot; width=&quot;40px&quot; formatter=&quot;fmtStatus&quot;&gt;Status&lt;/th&gt;
      &lt;th field=&quot;capacity&quot; width=&quot;80px&quot; formatter=&quot;fmtCapacity&quot;&gt;Capacity&lt;/th&gt;
      &lt;th field=&quot;uid&quot; width=&quot;auto&quot;&gt;UID&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
&lt;/table&gt;</textarea></div></div>
<div class="section" id="formatting">
<h3>Formatting<a class="headerlink" href="#formatting" title="Permalink to this headline">¶</a></h3>
<p>In order to the users can format content freely for cells in different levels, the LazyTreeGrid formatters receives a &#8220;level&#8221; parameter,which is 0-based. But LazyTreeGrid formatters won&#8217;t be able to handle a negative value for row nubmer parameter since there is no aggregation for the LazyTreeGrid. Below is a simply example of the formatter:</p>
<div class="highlight"><pre><span class="kd">var</span> <span class="nx">fmt</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">level</span><span class="p">){</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">level</span> <span class="o">==</span> <span class="mi">0</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">value</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span> <span class="o">?</span> <span class="s2">&quot;online&quot;</span> <span class="o">:</span> <span class="nx">offline</span><span class="s2">&quot;;</span>
<span class="s2">  }else{</span>
<span class="s2">    return&quot;</span><span class="nx">online</span><span class="err">&quot;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">var fmt = function(value, idx, level){
  if(level == 0){
    return value == &quot;true&quot; ? &quot;online&quot; : offline&quot;;
  }else{
    return&quot;online&quot;;
  }
}</textarea></div></div>
<div class="section" id="cells-merging">
<h3>Cells Merging<a class="headerlink" href="#cells-merging" title="Permalink to this headline">¶</a></h3>
<p>In order to display better for different levels, user could do cells merge based on different level via &#8220;colSpans&#8221; attribute. The value of &#8220;colSpans&#8221; is a JSON object, an example colSpans definition would look like this:</p>
<div class="highlight"><pre><span class="nx">colSpans</span> <span class="o">=</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="nx">start</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">end</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">primary</span><span class="o">:</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="nx">start</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">end</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">primary</span><span class="o">:</span> <span class="mi">3</span><span class="p">}</span>
  <span class="p">],</span>
  <span class="mi">1</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="nx">start</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">end</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">primary</span><span class="o">:</span> <span class="mi">1</span><span class="p">}</span>
  <span class="p">]</span>
<span class="p">};</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">colSpans = {
  0: [
    {start: 0, end: 1, primary: 0},
    {start: 2, end: 4, primary: 3}
  ],
  1: [
    {start: 0, end: 3, primary: 1}
  ]
};</textarea></div><p>The attributes of &#8220;colSpans&#8221; object (0, 1, 2, ...) indicate what level it is. The level is 0-based. The value of these attributes would be a JSON object array, each element of these array would indicate the detail of column span, the start indicate the start column index of colspan, end is end column index of colspan, and the primary is index of column which content will be displayed (start value by default).</p>
</div>
</div>
<div class="section" id="public-api">
<h2><a class="toc-backref" href="#id5">Public API</a><a class="headerlink" href="#public-api" title="Permalink to this headline">¶</a></h2>
<p>Available public methods of the LazyTreeGrid are listed below:</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="30%" />
<col width="17%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Parameters</th>
<th class="head">Return</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>setModel</td>
<td>treeModel</td>
<td>N/A</td>
<td>Change the LazyTreeGrid&#8217;s treeModel.</td>
</tr>
<tr class="row-odd"><td>expand</td>
<td>itemId: string?</td>
<td>N/A</td>
<td>Function to handle expanding the row with item matching
the given item id.</td>
</tr>
<tr class="row-even"><td>collapse</td>
<td>itemId: string?</td>
<td>N/A</td>
<td>Function to handle collapsing the row which item matching
the given item id.</td>
</tr>
<tr class="row-odd"><td>refresh</td>
<td>keepState: boolean</td>
<td>N/A</td>
<td>Function to refresh the grid content with or
without keeping the folding state.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id6">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>For example of the LazyTreeGrid with a ForestStoreModel and client side data source, please see the file dojox/grid/tests/test_treegrid_lazyloading.html.</p>
</div>
<div class="section" id="accessibility">
<h2><a class="toc-backref" href="#id7">Accessibility</a><a class="headerlink" href="#accessibility" title="Permalink to this headline">¶</a></h2>
<p>LazyTreeGrid provides the same a11y support level as <a class="reference internal" href="DataGrid.html#dojox-grid-datagrid"><em>DataGrid</em></a> .</p>
<p>And summary attribute can be added in a similar way as <a class="reference external" href="http://livedocs.dojotoolkit.org/dojox/grid/DataGrid#add-summary-attribute">DataGrid</a>.</p>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id8">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><a class="reference internal" href="DataGrid.html#dojox-grid-datagrid"><em>dojox.grid.DataGrid</em></a></p>
<p>The base grid</p>
</li>
<li><p class="first"><a class="reference internal" href="EnhancedGrid.html#dojox-grid-enhancedgrid"><em>dojox.grid.EnhancedGrid</em></a></p>
<p>An enhanced version of the base grid, which extends it in numerous useful ways</p>
</li>
<li><p class="first"><a class="reference internal" href="TreeGrid.html#dojox-grid-treegrid"><em>dojox.grid.TreeGrid</em></a></p>
<p>This grid offers support for collapsible rows and model-based (<a class="reference internal" href="../../dijit/tree/ForestStoreModel.html#dijit-tree-foreststoremodel"><em>dijit.tree.ForestStoreModel</em></a>) structure</p>
</li>
</ul>
</div>
</div>


                        </div>
                    </div>
                    <div class="sidebar unit size1of4 lastUnit">
                        <h4>Reference Guide</h4>
						<div id="dtkVersion">
							<label for="refver">Dojo Version</label>
							<select id="refver" name="refver">
								<option value="1.6">1.6</option>
								<option value="1.7">1.7</option>
								<option value="1.8" selected="selected">1.8</option>
                                <option value="1.9">1.9</option>
							</select>
						</div>
                        <ul>
                            <li><a href="../../index.html">Startpage</a></li>
                            <li><a href="../../dojo/index.html">Dojo</a></li>
                            <li><a href="../../dijit/index.html">Dijit</a></li>
                            <li><a href="../index.html">DojoX</a></li>
                        </ul>
                        
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">dojox.grid.LazyTreeGrid</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#supported-data-structure">Supported Data Structure</a></li>
<li><a class="reference internal" href="#the-mechanism-of-rendering">The Mechanism of Rendering</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#treemodel">TreeModel</a></li>
<li><a class="reference internal" href="#structure-definition">Structure Definition</a></li>
<li><a class="reference internal" href="#formatting">Formatting</a></li>
<li><a class="reference internal" href="#cells-merging">Cells Merging</a></li>
</ul>
</li>
<li><a class="reference internal" href="#public-api">Public API</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#accessibility">Accessibility</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="EnhancedGrid/plugins/Selector.html"
                        title="previous chapter">dojox.grid.EnhancedGrid.plugins.Selector</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="TreeGrid.html"
                        title="next chapter">dojox.grid.TreeGrid</a></p>
    <div id="searchbox" style="display: none">
        <h3>Quick search</h3>
        <form class="search" action="../../search.html" method="get">
            <input type="text" name="q" size="18" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
         </form>
         <p class="searchtip" style="font-size: 90%">
             Enter search terms or a module, class or function name.
         </p>
    </div>
        </div>
      </div>
                    </div>
                </div>
            </div>
        </div>
        <hr class="hide" />
        <div id="foot">
            <div class="innerBox">
                <script type="text/javascript">document.write('<a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&amp;formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&amp;entry_0=' + encodeURIComponent(window.location.href) + '">Error in the documentation? Can’t find what you are looking for? Let us know!</a>');</script>
                <div class="footer">
                      &copy; Copyright 2005-2012, Dojo Foundation.
                      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
                </div>
            </div>  
        </div>
        <script src="http://www.google.com/jsapi?key=ABQIAAAAbTW5DVaTIHKHQe5Q75sB0BSaOaO_TgJ5c3mtQFnk5JO2zD5dZBSGHlRJ8HAPlCQCEO_FxSmyNAHSLw" type="text/javascript"></script>
    </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>