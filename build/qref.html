

<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Quick Reference for Optimization Build Program &mdash; The Dojo Toolkit - Reference Guide</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="The Dojo Toolkit - Reference Guide" href="../index.html" />
    <link rel="up" title="Dojo Build" href="contents.html" />
    <link rel="next" title="Building a Base-only dojo.js" href="scenario-base.html" />
    <link rel="prev" title="Build profiles" href="profiles.html" />

    <link rel="stylesheet" href="../_static/css/site.css">
    <link rel="stylesheet" href="../_static/js/docs/resources/guide.css">
	<script type="text/javascript">
		dojoConfig = {
			async: true
		};
	</script>
    <script type="text/javascript" src="../_static/js/dojo/dojo.js"></script>
    <script type="text/javascript" src="../_static/js/docs/guide.js"></script>

  </head>
  <body>  

    <div class="document">
    <div id="accessibilityNode">
        <a href="#intro">Skip to Content</a> | <a href="#nav">Skip to Navigation</a>
    </div>
    <hr class="hide">
    <div id="page" class="docPage">
        <div id="header">
            <div class="container">
                <span id="logo"><a title="Home" href="http://dojotoolkit.org">
                    <img alt="Dojo Toolkit" src="../_static/images/logo.png"></a>
                </span>
                <ul id="navigation">
                    <li class="home"><a href="/"><span class="homeIcon"></span></a></li>
                    <li class="download"><a href="/download/">Download</a></li>
                    <li class="features"><a href="/features/">Features</a></li>
                    <li class="docs active"><a href="/documentation/">Documentation</a></li>
                    <li class="community"><a href="/community/">Community</a></li>
                    <li class="about"><a href="/blog/">Blog</a></li>
                </ul>
            </div>
        </div>
    
        <hr class="hide" />
    
        <div id="main">
            <div id="content" class="innerBox">
                <div class="pageTitleContainer">
                    <h1>Documentation</h1>
                    <ul class="subnav">
                        <li><a href="/documentation/"><span>Tutorials</span></a></li>
                        <li class="active"><a href="/reference-guide/"><span>Reference Guide</span></a></li>
                        <li><a href="/api/"><span>API Documentation</span></a></li>
                    </ul>
                </div>
                <div class="line">
                    <div class="unit size3of4 firstUnit">
                        <div class="spacer">
                            
  <div class="section" id="quick-reference-for-optimization-build-program">
<span id="build-qref"></span><h1>Quick Reference for Optimization Build Program<a class="headerlink" href="#quick-reference-for-optimization-build-program" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Rawld Gill</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="reference-documentation">
<h1>Reference Documentation<a class="headerlink" href="#reference-documentation" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="buildSystem.html#build-buildsystem"><em>The Dojo Build System</em></a>: The top-level tutorial and reference that describes the basic
operation of the build system when used for deployment optimizations.</li>
<li><a class="reference internal" href="index.html#build-index"><em>Build Document Catalog</em></a>: A complete list of build system documentation resources.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="command-line-switch-reference">
<h1>Command Line Switch Reference<a class="headerlink" href="#command-line-switch-reference" title="Permalink to this headline">¶</a></h1>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">--profile</span></tt> <em>profile-name</em></dt>
<dd>Read and process the profile given by <em>profile-name</em>. If <em>profile-name</em> does not include a file type, then the file
type &#8221;.profile.js&#8221; is assumed. If <em>profile-name</em> does not include a file type <strong>and</strong> the <em>profile-name</em> does not
contain any path segments <strong>and</strong> the implied filename is not found in the current working directory, then the program
attempts to read the profile from the /utils/buildscripts/profiles directory.</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span></tt> <em>profile-name</em></dt>
<dd>Equivalent to &#8211;profile</dd>
<dt><tt class="docutils literal"><span class="pre">--dojoConfig</span></tt> <em>filename</em></dt>
<dd>Read and process a loader configuration object given by the variable <tt class="docutils literal"><span class="pre">dojoConfig</span></tt> that must exist in the resource given by <em>filename</em>.</dd>
<dt><tt class="docutils literal"><span class="pre">--require</span></tt> <em>filename</em></dt>
<dd>Read and process a loader configuration application that must exist in the resource given by <em>filename</em>.</dd>
<dt><tt class="docutils literal"><span class="pre">--package</span></tt> <em>path</em></dt>
<dd>Read and process a package.json resource that must exist in the directory given by <em>path</em>.</dd>
<dt><tt class="docutils literal"><span class="pre">--release</span></tt></dt>
<dd>Process all profiles resources, discover and transform all resources.</dd>
<dt><tt class="docutils literal"><span class="pre">--releaseDir</span> <span class="pre">*directory*</span></tt></dt>
<dd>Creates specified directory and puts build there.  Defaults to dojoRoot/release.</dd>
<dt><tt class="docutils literal"><span class="pre">-r</span></tt> <em>filename</em></dt>
<dd>Equivalent to &#8211;releaseDir</dd>
<dt><tt class="docutils literal"><span class="pre">--check</span></tt></dt>
<dd>Process all command line switches and dump the computed profile to the console.</dd>
<dt><tt class="docutils literal"><span class="pre">--check-args</span></tt></dt>
<dd>Process all command line switches and dump the raw profile resources to the console (the profile resources are not
aggregated).</dd>
<dt><tt class="docutils literal"><span class="pre">--check-discovery</span></tt></dt>
<dd>Echo all discovered resources and exit</dd>
<dt><tt class="docutils literal"><span class="pre">--help</span></tt></dt>
<dd>Print the help message</dd>
<dt><tt class="docutils literal"><span class="pre">--version</span></tt></dt>
<dd>Print the version number of the build program</dd>
</dl>
<p>Any scalar profile property can be specified on the command line. For example, <tt class="docutils literal"><span class="pre">basePath</span></tt> could be specified
as follows:</p>
<div class="highlight-text"><div class="highlight"><pre>~/dev/dtk/util/buildscripts&gt; ./build.sh --profile myApp --basePath /www/deploy/myApp --release
</pre></div>
</div>
<p><em>Note</em>: although <strong>action=</strong> <em>switch</em> defined by the v1.6- system may be used, that syntax is deprecated and you should just
specify the switch.</p>
<p><em>Note</em>: the clean action has been removed. Since the system is now extremely flexible is describing where output is
written, a mistake in a profile could result in cleaning your hard drive. We'll let you do that yourself with the
rm/rmdir commands. (We also note that deleting file trees is not the typical function of a compiler program).</p>
</div>
<div class="section" id="discovery-profile-properties">
<h1>Discovery Profile Properties<a class="headerlink" href="#discovery-profile-properties" title="Permalink to this headline">¶</a></h1>
<dl class="docutils">
<dt>basePath</dt>
<dd>Analogous to baseUrl when resolving package locations with the dojo loader. Defaults to &quot;.&quot; for profile and
package.json files; no default otherwise.</dd>
<dt>releaseDir</dt>
<dd>Analogous to baseUrl when resolving package locations with the dojo loader. Defaults to &quot;./release&quot; for v1.7+
profiles; defaults to /util/buildscripts/../../release for 1.6- profiles.</dd>
<dt>trees</dt>
<dd>Identical to the trees property available in a package configuration object, except package independent. Relative
source and/or destination names are relative tod basePath and releaseDir respectively.</dd>
<dt>dirs</dt>
<dd>Identical to the dirs property available in a package configuration object, except package independent. Relative
source and/or destination names are relative tod basePath and releaseDir respectively.</dd>
<dt>files</dt>
<dd>Identical to the files property available in a package configuration object, except package independent. Relative
source and/or destination names are relative tod basePath and releaseDir respectively.</dd>
<dt>packages</dt>
<dd>An array of package configurations objects. Packages are mixed on a per-package level. Package configuration objects
may contain the properties name, location, main, and packageMap as described in xxx. The destination location for a package
is given by the analogous properties destName, destLocation, destMain, and destPackageMap. Typically, the destination
properties are derived from the source properties with destName===name, destLocation===destBasePath/destName,
destMain===main, and destPackageMap===packageMap. Packages may also contain the properties trees, dirs, and files as
described in xxx.</dd>
<dt>copyTests</dt>
<dd>If truthy but not &quot;build&quot;, then copy  all resources tagged as a tests to the release destination. If &quot;build&quot;, then apply
all appropriate transforms to any resource tagged as a test as if it were not tagged as a test. If falsy, ignore the
all resources tagged as tests.</dd>
<dt>mini</dt>
<dd>If truthy ignore all resources tagged as excludeMini; if copyTests is falsy or missing, also ignore all resources
tagged as tests.</dd>
</dl>
</div>
<div class="section" id="transform-copy">
<h1>Transform: copy<a class="headerlink" href="#transform-copy" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/copy.html#build-transforms-copy"><em>copy transform reference...</em></a></p>
<p>None.</p>
</div>
<div class="section" id="transform-depsdump">
<h1>Transform: depsDump<a class="headerlink" href="#transform-depsdump" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/depsDump.html#build-transforms-depsdump"><em>depsDump transform reference...</em></a></p>
<p><tt class="docutils literal"><span class="pre">depsDumpFilename</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</p>
<blockquote>
<div><ul class="simple">
<li>[<em>string</em>] filename to output dependency graph</li>
<li>[<em>falsy</em>] dependency graph is not output</li>
</ul>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">depsDumpDotFilename</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</p>
<blockquote>
<div><ul class="simple">
<li>[<em>string</em>] filename to output dot program</li>
<li>[<em>falsy</em>] dot program is not output</li>
</ul>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">dotModules</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</p>
<blockquote>
<div><ul class="simple">
<li>[<em>comma-separated string of module identifiers</em>]  set of identifiers to include in graph (these modules and their
dependency trees will be included in the output)</li>
<li>[<em>falsy</em>] all modules are included</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="transform-depsscan">
<h1>Transform: depsScan<a class="headerlink" href="#transform-depsscan" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/depsScan.html#build-transforms-depsscan"><em>depsScan transform reference...</em></a></p>
<p><tt class="docutils literal"><span class="pre">platform</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</p>
<blockquote>
<div><ul class="simple">
<li>[<em>string</em>] The target platform when processing legacy <tt class="docutils literal"><span class="pre">dojo.platformRequire</span></tt> applications</li>
<li>[<em>falsy</em>] <tt class="docutils literal"><span class="pre">dojo.platformRequire</span></tt> ignores any platform-dependent dependencies</li>
</ul>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">internStrings</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</p>
<blockquote>
<div><ul class="simple">
<li>[<em>truthy</em>] Strings are interned for legacy modules.</li>
<li>[<em>falsy</em>] Strings are not interned for legacy modules.</li>
</ul>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">internStringsSkipList</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</p>
<blockquote>
<div><ul class="simple">
<li>[<em>array of module identifiers (strings)</em>] List of string resources to ignore during string interning.</li>
<li>[<em>falsy</em>] All string resources discovered during the string interning process are interned.</li>
</ul>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">internSkipList</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</p>
<blockquote>
<div><ul class="simple">
<li>This is a backcompat synonym for <tt class="docutils literal"><span class="pre">internStringsSkipList</span></tt></li>
</ul>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">scopeNames</span></tt> (default = <tt class="docutils literal"><span class="pre">[&quot;dojo&quot;,</span> <span class="pre">&quot;dijit&quot;,</span> <span class="pre">&quot;dojox&quot;]</span></tt>)</p>
<blockquote>
<div><ul class="simple">
<li>[<em>array of top-level module identifiers (strings)</em>] The top-level modules names to bring into scope when executing a
legacy module converted to AMD. See xxx. The vector is guaranteed to contain &quot;dojo&quot;, &quot;dijit&quot;, and
&quot;dojox&quot;. Additional names may be added if required; however, it is highly advised that users of this feature convert
their modules to proper AMD modules which eliminates the need for this feature.</li>
</ul>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">scopeMap</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</p>
<blockquote>
<div><ul class="simple">
<li>[<em>map from top-level module identifier to relocated top-level module identifier (string)</em>] The property names of
<tt class="docutils literal"><span class="pre">scopeMap</span></tt> are used to populate <tt class="docutils literal"><span class="pre">scopeNames</span></tt>; the property values of <tt class="docutils literal"><span class="pre">scopeMap</span></tt> are not meaningful to the
build system.</li>
</ul>
</div></blockquote>
<p><strong>Warning</strong>: All knobs mentioned above support legacy features which are deprecated. It is strongly encouraged to convert
legacy modules to properly-expressed AMD modules.</p>
</div>
<div class="section" id="transform-dojopragmas">
<h1>Transform: dojoPragmas<a class="headerlink" href="#transform-dojopragmas" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/dojoPragmas.html#build-transforms-dojopragmas"><em>dojoPragmas transform reference...</em></a></p>
<p>The entire profile object is placed in the lexical variable <tt class="docutils literal"><span class="pre">kwargs</span></tt> when thea condition associated with the pragmas
<tt class="docutils literal"><span class="pre">includeStart</span></tt> and <tt class="docutils literal"><span class="pre">excludeEnd</span></tt> is evaluated. Any property in the profile may be used to affect these conditions.</p>
</div>
<div class="section" id="transform-dojoreport">
<h1>Transform: dojoReport<a class="headerlink" href="#transform-dojoreport" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/dojoReport.html#build-transforms-dojoreport"><em>dojoReport transform reference...</em></a></p>
<p>This section not complete; please consult source at util/build/transforms/dojoReport.js</p>
</div>
<div class="section" id="transform-hasfindall">
<h1>Transform: hasFindAll<a class="headerlink" href="#transform-hasfindall" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/hasFindAll.html#build-transforms-hasfindall"><em>hadFindAll transform reference...</em></a></p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">hasReport</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</dt>
<dd><ul class="first last simple">
<li>[<em>truthy</em>] A report of all has tests and their locations is written in the build report.</li>
<li>[<em>falsy</em>] No has location report is written.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="transform-hasfixup">
<h1>Transform: hasFixup<a class="headerlink" href="#transform-hasfixup" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/hasFixup.html#build-transforms-hasfixup"><em>hasFixup transform reference...</em></a></p>
<p><tt class="docutils literal"><span class="pre">staticHasFeatures</span></tt> (default = xxx)</p>
<blockquote>
<div><ul class="simple">
<li>[<em>map from feature name to booleanish or -1</em>] If -1, then the has feature is removed from the <tt class="docutils literal"><span class="pre">staticHasFeatures</span></tt>;
otherwise, if truthy, then the feature is assumed to be always true in the built code and conversely. Multiple
<tt class="docutils literal"><span class="pre">staticHasFeatures</span></tt> maps may be provided from multiple profile resources. If more than one <tt class="docutils literal"><span class="pre">staticHasFeatures</span></tt>
property value is provided, then they are mixed on a per-has-feature basis in the order they appear on the command line.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="transform-insertsymbols">
<h1>Transform: insertSymbols<a class="headerlink" href="#transform-insertsymbols" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/insertSymbols.html#build-transforms-insertsymbols"><em>insertSymbols transform reference...</em></a></p>
<p>This section not complete; please consult source at util/build/transforms/insertSymbols.js</p>
</div>
<div class="section" id="transform-optimizecss">
<h1>Transform: optimizeCss<a class="headerlink" href="#transform-optimizecss" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/optimizeCss.html#build-transforms-optimizecss"><em>optimizeCss transform reference...</em></a></p>
<p>This section not complete; please consult source at util/build/transforms/optimizeCss.js</p>
</div>
<div class="section" id="transform-read">
<h1>Transform: read<a class="headerlink" href="#transform-read" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/read.html#build-transforms-read"><em>read transform reference...</em></a></p>
<p>This section not complete; please consult source at util/build/transforms/read.js</p>
</div>
<div class="section" id="transform-write">
<h1>Transform: write<a class="headerlink" href="#transform-write" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/write.html#build-transforms-write"><em>write transform reference...</em></a></p>
<p>None.</p>
</div>
<div class="section" id="transform-writeamd">
<h1>Transform: writeAmd<a class="headerlink" href="#transform-writeamd" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/writeAmd.html#build-transforms-writeamd"><em>writeAmd transform reference...</em></a></p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">layers</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</dt>
<dd><ul class="first simple">
<li>[<em>map from module identifier to layer item</em>] Indicates the given module should be written as a layer.</li>
</ul>
<p class="last">If multiple layer objects are given by multiple profile resources, they are mixed on a per-layer basis, as profile
items are processed left to right on the command line. For example, if two profile resources define the &quot;x/y/z&quot; layer,
the layer item that exists in the last profile processed will overwrite the first layer item completely.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">insertAbsMids</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</dt>
<dd><ul class="first last simple">
<li>[<em>truthy</em>] Causes the transform to ensure that every AMD define application includes a module identifier argument.</li>
<li>[<em>falsy</em>] The transform does nothing to the module identifier argument in define applications. In particular, a
falsy value doe <em>not</em> cause the transform to remove a module identifier argument that exists in the source code.</li>
</ul>
</dd>
</dl>
<p>Layer items are JavaScript objects with the following properties</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">include</span></tt> (default = <tt class="docutils literal"><span class="pre">[]</span></tt>)</dt>
<dd>The set of module identifiers that, together with their dependency graphs, should be included in the layer, exclusive
of the exclude module graph (see next).</dd>
<dt><tt class="docutils literal"><span class="pre">exclude</span></tt> (default = <tt class="docutils literal"><span class="pre">[]</span></tt>)</dt>
<dd>The set of module identifiers that, together with their dependency graphs, should be excluded from the layer after all
include dependencies are computed.</dd>
<dt><tt class="docutils literal"><span class="pre">discard</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</dt>
<dd>If truthy, then the layer is computed and memorized but not written. This feature is used to construct a layer that is
used in the <tt class="docutils literal"><span class="pre">include</span></tt> or <tt class="docutils literal"><span class="pre">exclude</span></tt> arrays of other layers.</dd>
<dt><tt class="docutils literal"><span class="pre">boot</span></tt> (default = <tt class="docutils literal"><span class="pre">undefined</span></tt>)</dt>
<dd>If truthy, then the layer is computed and memorized but not written. The computed layer is used by the writeDojo
transform to write the layer along with the dojo loader to form a boot layer.</dd>
<dt><tt class="docutils literal"><span class="pre">copyright</span></tt> (default = &quot;&quot;)</dt>
<dd>If a string that gives an existing filename, the contents of the named file is used as copyright text for the
module. Relative filenames are computed with respect to the path that holds the profile resource that contains the
layer item. If a string that does not give an existing filename, the string it interpreted as an explicit copyright
message. If no string value is given, then no copyright text is output.</dd>
</dl>
</div>
<div class="section" id="transform-writedojo">
<h1>Transform: writeDojo<a class="headerlink" href="#transform-writedojo" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="transforms/writeDojo.html#build-transforms-writedojo"><em>writeDojo transform reference...</em></a></p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">defaultConfig</span></tt> (default = see below)</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>[<em>object that gives the default loader configuration</em>] Used to build up the default loader configuration. Typically</dt>
<dd><p class="first last">not provided.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt><tt class="docutils literal"><span class="pre">userConfig</span></tt> (default = <tt class="docutils literal"><span class="pre">&quot;this.dojoConfig</span> <span class="pre">||</span> <span class="pre">this.djConfig</span> <span class="pre">||</span> <span class="pre">this.require</span> <span class="pre">||</span> <span class="pre">{}&quot;</span></tt>)</dt>
<dd><ul class="first simple">
<li>[<em>string</em>] The explicit text to write for the user configuration applied to the loader factory.</li>
<li>[<em>object</em>] The object to use for the user configuration applied to the loader factory. The object need not be a
strict JSON object.</li>
</ul>
<p class="last"><strong>Warning</strong>: When a user configuration is given by providing a value of for the profile property <tt class="docutils literal"><span class="pre">userConfig</span></tt>, the
resulting loader will not automatically consume a global <tt class="docutils literal"><span class="pre">dojoConfig</span></tt>, <tt class="docutils literal"><span class="pre">djConfig</span></tt>, or <tt class="docutils literal"><span class="pre">require</span></tt> loader
configuration object.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">version</span></tt> (default = <em>the version given by the dojo package</em>)</dt>
<dd><ul class="first last simple">
<li>[<em>string</em>] A string with the format <em>major</em> <strong>.</strong> minor* <strong>.</strong> <em>patch</em> <strong>.</strong> <em>flag</em>, where major, minor, and patch
must all be positive integers and flag can be anything. Any less significant subset may be omitted; omitted minor
and patch segments default to &quot;0&quot;; an omitted flag segment defaults to an empty string.</li>
</ul>
</dd>
<dt><tt class="docutils literal"><span class="pre">dojo/dojo</span></tt> layer configuration</dt>
<dd>The dojo/dojo layer configuration gives the contents of the dojo layer, usually written to dojo/dojo.js. The default
value of the dojo/dojo layer is given as follows:</dd>
</dl>
<div class="highlight"><pre><span class="p">{</span>
    <span class="nx">include</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;dojo/main&quot;</span><span class="p">],</span>
    <span class="nx">exclude</span><span class="o">:</span><span class="p">[],</span>
    <span class="nx">boot</span><span class="o">:</span><span class="kc">true</span>
<span class="p">}</span>
</pre></div>
<div class="CodeGlassMiniRaw" label="" lang="javascript"><textarea style="display:none">{
    include:[&quot;dojo/main&quot;],
    exclude:[],
    boot:true
}</textarea></div></div>
<div class="section" id="transform-writeoptimized">
<h1>Transform: writeOptimized<a class="headerlink" href="#transform-writeoptimized" title="Permalink to this headline">¶</a></h1>
<p><em class="xref std std-ref">writeOptimize transform reference...</em></p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">layerOptimize</span></tt> (default = &quot;shrinksafe&quot;)</dt>
<dd><ul class="first last simple">
<li>[<em>falsy</em>] Layer modules are not optimized; the <tt class="docutils literal"><span class="pre">stripConsole</span></tt> profile property, if any, is ignored.</li>
<li>[&quot;comments.keeplines&quot;] All comments are removed from all layer modules; new-lines are preserved; the <tt class="docutils literal"><span class="pre">stripConsole</span></tt>
profile property, if any, is ignored.</li>
<li>[&quot;comments&quot;] All comments are removed form all layer modules; new-lines are <em>not</em> preserved; the <tt class="docutils literal"><span class="pre">stripConsole</span></tt>
profile property, if any, is ignored.</li>
<li>[&quot;shrinksafe.keeplines&quot;] All layer modules are processed by shrinksafe; new-lines are preserved; the semantics of
the <tt class="docutils literal"><span class="pre">stripConsole</span></tt> property are executed.</li>
<li>[&quot;shrinksafe&quot;] All layer modules are processed by shrinksafe; new-lines are <em>not</em> preserved; the semantics of the
<tt class="docutils literal"><span class="pre">stripConsole</span></tt> property are executed.</li>
<li>[&quot;closure.keepLines&quot;] All layer modules are processed by the Google Closure compiler, simple-mode; new-lines are
preserved; the semantics of the <tt class="docutils literal"><span class="pre">stripConsole</span></tt> property are executed.</li>
<li>[&quot;closure&quot;] All layer modules are processed by the Google Closure compiler, simple-mode; new-lines are <em>not</em>
preserved; the semantics of the <tt class="docutils literal"><span class="pre">stripConsole</span></tt> property are executed.</li>
</ul>
</dd>
<dt><tt class="docutils literal"><span class="pre">optimize</span></tt> (default = &quot;undefined&quot;)</dt>
<dd><ul class="first last simple">
<li>[<em>falsy</em>] Non-layer modules are not optimized; the <tt class="docutils literal"><span class="pre">stripConsole</span></tt> profile property, if any, is ignored.</li>
<li>[&quot;comments.keeplines&quot;] All comments are removed from all non-layer modules; new-lines are preserved; the <tt class="docutils literal"><span class="pre">stripConsole</span></tt>
profile property, if any, is ignored.</li>
<li>[&quot;comments&quot;] All comments are removed form all non-layer modules; new-lines are <em>not</em> preserved; the <tt class="docutils literal"><span class="pre">stripConsole</span></tt>
profile property, if any, is ignored.</li>
<li>[&quot;shrinksafe.keeplines&quot;] All non-layer modules are processed by shrinksafe; new-lines are preserved; the semantics of
the <tt class="docutils literal"><span class="pre">stripConsole</span></tt> property are executed.</li>
<li>[&quot;shrinksafe&quot;] All non-layer modules are processed by shrinksafe; new-lines are <em>not</em> preserved; the semantics of the
<tt class="docutils literal"><span class="pre">stripConsole</span></tt> property are executed.</li>
<li>[&quot;closure.keepLines&quot;] All non-layer modules are processed by the Google Closure compiler, simple-mode; new-lines are
preserved; the semantics of the <tt class="docutils literal"><span class="pre">stripConsole</span></tt> property are executed.</li>
<li>[&quot;closure&quot;] All non-layer modules are processed by the Google Closure compiler, simple-mode; new-lines are <em>not</em>
preserved; the semantics of the <tt class="docutils literal"><span class="pre">stripConsole</span></tt> property are executed.</li>
</ul>
</dd>
<dt><strong>Important</strong>: Dead code removal consequent to static has.js feature values and the hasFixup transform requires a Google</dt>
<dd>Closure compiler optimization switch setting</dd>
<dt><tt class="docutils literal"><span class="pre">stripConsole</span></tt> (default = &quot;normal&quot;)</dt>
<dd><ul class="first last simple">
<li>[&quot;none&quot;] No console applications are stripped.</li>
<li>[&quot;normal&quot;] All console applications are stripped except <tt class="docutils literal"><span class="pre">console.error</span></tt> and <tt class="docutils literal"><span class="pre">console.warn</span></tt>.</li>
<li>[&quot;warn&quot;] All console applications are stripped except <tt class="docutils literal"><span class="pre">console.error</span></tt>.</li>
<li>[&quot;all&quot;] All console applications are stripped.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="deprecated-profile-properties">
<h1>Deprecated Profile Properties<a class="headerlink" href="#deprecated-profile-properties" title="Permalink to this headline">¶</a></h1>
<p>The action clean is no longer supported. Use <tt class="docutils literal"><span class="pre">rm</span></tt> on Unix/Linux/OS X or <tt class="docutils literal"><span class="pre">rmdir</span></tt> on Windows.</p>
</div>
<div class="section" id="removed-profile-properties">
<h1>Removed Profile Properties<a class="headerlink" href="#removed-profile-properties" title="Permalink to this headline">¶</a></h1>
<p>The following profile properties are not necessary with the introduction of the new loader, query machinery, build
system, and AMD module format in 1.7: <tt class="docutils literal"><span class="pre">localeList</span></tt>, <tt class="docutils literal"><span class="pre">loader</span></tt>, <tt class="docutils literal"><span class="pre">log</span></tt>, <tt class="docutils literal"><span class="pre">xdDojoPath</span></tt>, <tt class="docutils literal"><span class="pre">scopeDjConfig</span></tt>,
<tt class="docutils literal"><span class="pre">xdScopeArgs</span></tt>, <tt class="docutils literal"><span class="pre">xdDojoScopeName</span></tt>, <tt class="docutils literal"><span class="pre">expandProvide</span></tt>, <tt class="docutils literal"><span class="pre">buildLayers</span></tt>, <tt class="docutils literal"><span class="pre">query</span></tt>, <tt class="docutils literal"><span class="pre">removeDefaultNameSpace</span></tt>,
<tt class="docutils literal"><span class="pre">addGuards</span></tt>.</p>
</div>


                        </div>
                    </div>
                    <div class="sidebar unit size1of4 lastUnit">
                        <h4>Reference Guide</h4>
						<div id="dtkVersion">
							<label for="refver">Dojo Version</label>
							<select id="refver" name="refver">
								<option value="1.6">1.6</option>
								<option value="1.7">1.7</option>
								<option value="1.8" selected="selected">1.8</option>
                                <option value="1.9">1.9</option>
							</select>
						</div>
                        <ul>
                            <li><a href="../index.html">Startpage</a></li>
                            <li><a href="../dojo/index.html">Dojo</a></li>
                            <li><a href="../dijit/index.html">Dijit</a></li>
                            <li><a href="../dojox/index.html">DojoX</a></li>
                        </ul>
                        
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Quick Reference for Optimization Build Program</a></li>
<li><a class="reference internal" href="#reference-documentation">Reference Documentation</a></li>
<li><a class="reference internal" href="#command-line-switch-reference">Command Line Switch Reference</a></li>
<li><a class="reference internal" href="#discovery-profile-properties">Discovery Profile Properties</a></li>
<li><a class="reference internal" href="#transform-copy">Transform: copy</a></li>
<li><a class="reference internal" href="#transform-depsdump">Transform: depsDump</a></li>
<li><a class="reference internal" href="#transform-depsscan">Transform: depsScan</a></li>
<li><a class="reference internal" href="#transform-dojopragmas">Transform: dojoPragmas</a></li>
<li><a class="reference internal" href="#transform-dojoreport">Transform: dojoReport</a></li>
<li><a class="reference internal" href="#transform-hasfindall">Transform: hasFindAll</a></li>
<li><a class="reference internal" href="#transform-hasfixup">Transform: hasFixup</a></li>
<li><a class="reference internal" href="#transform-insertsymbols">Transform: insertSymbols</a></li>
<li><a class="reference internal" href="#transform-optimizecss">Transform: optimizeCss</a></li>
<li><a class="reference internal" href="#transform-read">Transform: read</a></li>
<li><a class="reference internal" href="#transform-write">Transform: write</a></li>
<li><a class="reference internal" href="#transform-writeamd">Transform: writeAmd</a></li>
<li><a class="reference internal" href="#transform-writedojo">Transform: writeDojo</a></li>
<li><a class="reference internal" href="#transform-writeoptimized">Transform: writeOptimized</a></li>
<li><a class="reference internal" href="#deprecated-profile-properties">Deprecated Profile Properties</a></li>
<li><a class="reference internal" href="#removed-profile-properties">Removed Profile Properties</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="profiles.html"
                        title="previous chapter">Build profiles</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="scenario-base.html"
                        title="next chapter">Building a Base-only dojo.js</a></p>
    <div id="searchbox" style="display: none">
        <h3>Quick search</h3>
        <form class="search" action="../search.html" method="get">
            <input type="text" name="q" size="18" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
         </form>
         <p class="searchtip" style="font-size: 90%">
             Enter search terms or a module, class or function name.
         </p>
    </div>
        </div>
      </div>
                    </div>
                </div>
            </div>
        </div>
        <hr class="hide" />
        <div id="foot">
            <div class="innerBox">
                <script type="text/javascript">document.write('<a href="https://docs.google.com/spreadsheet/viewform?hl=en_US&amp;formkey=dFlDcHEyaHMwbEd4MFBObkNrX0E1MFE6MQ&amp;entry_0=' + encodeURIComponent(window.location.href) + '">Error in the documentation? Can’t find what you are looking for? Let us know!</a>');</script>
                <div class="footer">
                      &copy; Copyright 2005-2012, Dojo Foundation.
                      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
                </div>
            </div>  
        </div>
        <script src="http://www.google.com/jsapi?key=ABQIAAAAbTW5DVaTIHKHQe5Q75sB0BSaOaO_TgJ5c3mtQFnk5JO2zD5dZBSGHlRJ8HAPlCQCEO_FxSmyNAHSLw" type="text/javascript"></script>
    </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>